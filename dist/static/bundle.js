!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(1)),r=o(n(2));o(n(3)),o(n(4)),o(n(5));window.twttr=function(t,e,n){var o,i=t.getElementsByTagName("script")[0],r=window.twttr||{};return t.getElementById(n)?r:(o=t.createElement("script"),o.id=n,o.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(o,i),r._e=[],r.ready=function(t){r._e.push(t)},r)}(document,0,"twitter-wjs"),window.onload=function(){function t(){var t=h();t.data&&S.sendMsg({action:"stateUpdate",room:t.room,data:t.data})}function e(e){t(),S.socket.close()}function n(){var e=function(t){return function(t){return new Promise(function(e,n){var o="https://crossorigin.herokuapp.com/http://poetrydb.org/author/"+t+"/lines";fetch(o).then(function(t){return 404!==t.status?t.json():n()}).then(function(t){return e(function(t){var e=t[Math.floor(Math.random()*(t.length-1))].lines;return e=e.filter(function(t){return t.length}).reduce(function(t,e){return t.concat(e)},[]).join(" ").split(" ").map(function(t){return t.trim().replace(/[^a-z]/gi,"")}).filter(function(t){return t.length}),e=e.filter(function(t,n){return n===e.lastIndexOf(t.toLowerCase())}),S.words=e.slice(50),e.slice(0,50).concat(C)}(t))}).catch(function(t){return n(t)})})}(t.target.value).then(function(t){return document.querySelector("textarea#newWords").value=t.join(" ")})};S.modal||(S.modal=new i.default.modal({footer:!0,stickyFooter:!1,closeMethods:["button"],cssClass:["wordGrab-modal"],closeLabel:"Close",beforeOpen:function(){document.querySelector("div#container").classList.add("blur");var t=document.createElement("div");t.id="modalBackground",document.body.appendChild(t)},onOpen:function(){},onClose:function(){},beforeClose:function(){var t=document.querySelector("div#modalBackground");return document.body.removeChild(t),!0}}),S.modal.setContent('<div id="wordSubmit">\n        <p><h1>Enter Some Words to Magnetize</h1></p>\n        <textarea rows="20" cols="60" id="newWords" spellcheck="false"></textarea>\n        <p><label for="d">delimited by:</label>\n        <select id="delimiter" name="d">\n          <option id="space" default>space</option>\n          <option id="comma">comma</option>\n          <option id="newline">newline</option>\n          <option id="tab">tab</option>\n        </select></p>\n        <p><label for="d">or Get Inspired:</label> <select id="poet" name="poet"></p>\n        </select><span id="small">(via <a href="http://poetrydb.org/index.html" target="_new">poetryDB</a>!)</span>\n      </div>'),S.modal.addFooterBtn("MAGNETIZE","tingle-btn tingle-btn--primary tingle-btn--full-width burn-after-reading",function(){var e=document.querySelector("textarea#newWords").value,n=document.querySelector("select#delimiter").value;if((e=e.split({space:" ",comma:",",newline:"\n",tab:"\t"}[n]).filter(function(t){return t.length})).length>=6){y(),x(),function(e){S.positions={},D.innerHTML="";var n=D.getBoundingClientRect(),i=0,r=0;e.forEach(function(t,e){var o=I(),s=document.createElement("div");s.innerHTML=t,s.id="div-"+S.divCtr;var a=s.innerHTML.length*S.CHAR_LENGTH;s.style.width=a+"px",S.divCtr++,D.appendChild(s),0!==e&&(i=S.positions[o].right-25),i+a+25>n.right-25&&(i=4,r+=40),s.dataset.x=i,s.dataset.y=r,d(s.id);var l=O(-3,5);s.style.transform="translate("+s.dataset.x+"px, "+s.dataset.y+"px)",s.dataset.angle=l,s.style.transform+="rotateZ("+l+"deg)",s.classList.add("word","noSelect","draggable"),S.positions[s.id]=s.getBoundingClientRect(),S.orderAdded.push(s.id)}),o(),t()}(e);var i=document.querySelector(".burn-after-reading");document.querySelector("div.tingle-modal-box__footer").removeChild(i),S.modal.setContent('<p><h1>Here t\'is: <input id="url" /></h1><p><h2>(it\'s also on your clipboard)</h2></p><p><h2><a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=Help me write my fridge poem!&hashtags=poetry,collab,writeWithMe&url='.concat(window.location.href,'" target="_new"\n          data-size="large"></p><p><img src="').concat(E,'" width="32px" height="32px" id="twitter"></a> for help</h2></p>'));var r=document.querySelector("input#url");r.value=window.location.href,r.style.width=10*r.value.length+"px",r.style.maxWidth="100%",r.focus(),r.select(),document.execCommand("copy"),S.modal.addFooterBtn("CLOSE AND PLAY","tingle-btn tingle-btn--danger tingle-btn--full-width",function(){S.modal.close()})}else document.querySelector("textarea#newWords").value="You need at least six words!"})),function(){var t=document.querySelector("select#poet");T.forEach(function(e){var n=document.createElement("option");n.value=e,n.innerHTML=e,t.appendChild(n)}),t.addEventListener("change",e)}(),S.modal.open()}function o(){(0,r.default)(".draggable").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onmove:s,onend:c})}function s(t){if(S.frozenWords[t.target.id])return!1;S.moving!==t.target.id&&(S.moving=t.target.id,S.sendMsg({action:"freeze",elementID:t.target.id})),t.stopPropagation(),z(function(t){0===t.dx&&0===t.dy||S.sendMsg({action:"moving",elementID:t.target.id,dx:t.dx,dy:t.dy})},100)(t);var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,o=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.webkitTransform="translate("+n+"px, "+o+"px)",e.style.transform="translate("+n+"px, "+o+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",o),e.style.backgroundColor="black",e.style.color="white",e.style.boxShadow=w}function a(t,e){if(!e.length)return!1;Number(t.style.zIndex);var n=e.map(function(t){return Number(t.style.zIndex)}),o=Math.max.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n));t.style.zIndex=o+1,e.forEach(function(t){return t.style.zIndex=Math.max(0,Number(t.style.zIndex)-1)})}function l(t){t.style.backgroundColor="white",t.style.color="black";var e=Number(t.style.zIndex);t.style.zIndex=e++;var n=[],o=t.getBoundingClientRect();Object.keys(S.positions).filter(function(e){return e!==t.id}).forEach(function(t){(function(t,e){if(t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y)return e;return!1})(o,S.positions[t])&&n.push(document.getElementById(t))}),n.length&&a(t,n)}function c(t){S.moving=null,t.stopPropagation(),S.sendMsg({action:"unfreeze",elementID:t.target.id});var e=t.target.getBoundingClientRect();S.positions[t.target.id]=e,l(t.target),t.target.style.boxShadow=M,S.sendMsg({action:"moveEnd",elementID:t.target.id,finalX:e.x,finalY:e.y})}function d(t){document.getElementById(t).addEventListener("click",f),document.getElementById(t).addEventListener("dblclick",u)}function u(t){if(S.frozenWords[t.target.id])return!1;S.sendMsg({action:"freeze",elementID:t.target.id});var e=t.target.innerHTML,n=t.target.getBoundingClientRect().width;t.target.innerHTML="";var o=document.createElement("input");o.spellCheck=!1,o.value=e,o.type="text",o.maxLength=20,t.target.appendChild(o),o.focus(),o.classList.add("newWord"),o.style.width=n,t.target.style.zIndex=1,t.target.style.backgroundColor="white",o.addEventListener("keypress",function(t){13===t.keyCode&&o.blur()}),o.addEventListener("blur",function(e){o.value.length?(t.target.innerHTML=o.value,t.target.style.width=o.value.length*S.CHAR_LENGTH,S.sendMsg({action:"modify",elementID:t.target.id,update:{innerHTML:o.value}}),S.sendMsg({action:"unfreeze",elementID:t.target.id})):f({shiftKey:!0,target:t.target})})}function p(t){var e=t.id?document.getElementById(t.id):t.domElement,n=t.id?t.id:t.domElement.id;e&&(e.removeEventListener("click",f),D.removeChild(e)),delete S.positions[n],S.orderAdded=S.orderAdded.filter(function(t){return t!==n})}function f(t){t.shiftKey&&(S.sendMsg({action:"delete",elementID:t.target.id}),p({domElement:t.target}))}function h(){var t=[];return document.querySelectorAll("div.word").forEach(function(e){t.push({id:e.id,word:e.innerHTML,transform:e.style.transform,x:Math.max(0,e.dataset.x),y:Math.max(0,e.dataset.y),zIdx:e.style.zIndex,color:e.style.color,bgColor:e.style.backgroundColor,angle:e.dataset.angle})}),{data:t,room:S.room}}function g(t,e){return t>e?1:t<e?-1:0}function m(){var t=S.positions,e=Object.keys(t).map(function(e){return[t[e].x,t[e].y,t[e].x+t[e].y,e]}).sort(function(t,e){return g(t[0],e[0])}).sort(function(t,e){return g(t[1],e[1])}),n=e.map(function(t){return t[1]}),o=n.map(function(t,e){return e>0&&e<n.length?{jump:n[e]-n[e-1],idx:e}:null}).filter(function(t){return t}),r=o.map(function(t){return t.jump}).reduce(function(t,e){return t+=e},0)/o.length,s=Math.sqrt(o.map(function(t){return Math.pow(t.jump-r,2)}).reduce(function(t,e){return t+=e},0)/(o.length-1)),a=[0].concat(o.filter(function(t){return t.jump>=r+s}).map(function(t){return t.idx}));!function(t){t=t.join("&#10;"),S.poemify||(S.poemify=new i.default.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],cssClass:["poemify-modal"],closeLabel:"Close",beforeOpen:function(){document.querySelector("div#container").classList.add("blur");var t=document.createElement("div");t.id="modalBackground",document.body.appendChild(t)},onOpen:function(){},onClose:function(){},beforeClose:function(){var t=document.querySelector("div#modalBackground");return document.body.removeChild(t),!0}}),S.poemify.addFooterBtn("GO BACK","tingle-btn tingle-btn--primary tingle-btn--full-width",function(){S.poemify.close()})),S.poemify.setContent(""),S.poemify.setContent('<div id="wordSubmit">\n        <p><h1><a class="twitter-share-button" href="https://twitter.com/intent/tweet?text='.concat(t,"&hashtags=poetry,collab&url=").concat(window.location.href,'" target="_new"\n        data-size="large"><img src="').concat(E,'" width="48px" height="48px"></a> My, what a beautiful poem!</h1></p>\n        <textarea rows="20" cols="60" id="newWords" spellcheck="false">').concat(t,"</textarea>\n      </div>")),S.poemify.open()}(a.map(function(t,n){return e.slice(t,a[n+1])}).map(function(t){return t.sort(function(t,e){return g(t[2],e[2])})}).map(function(t){return t.map(function(t){return document.getElementById(t[3]).innerHTML}).join(" ")}))}function v(t){S.positions={},D.innerHTML="",t.forEach(function(t){S.divCtr++;var e=document.createElement("div");e.id=t.id,e.innerHTML=t.word,e.dataset.x=void 0!==t.x?t.x:0,e.dataset.y=void 0!==t.y?t.y:0,e.style.transform="translate("+e.dataset.x+"px, "+e.dataset.y+"px)",e.style.zIndex=t.zIdx,e.style.color=t.color,e.style.backgroundColor=t.bgColor,t.angle&&(e.style.transform+="rotateZ("+t.angle+"deg)",e.dataset.angle=t.angle),e.style.width=e.innerHTML.length*S.CHAR_LENGTH,e.classList.add("word","noSelect","draggable"),D.appendChild(e),S.positions[e.id]=e.getBoundingClientRect(),S.orderAdded.push(e.id),d(e.id)}),o()}function y(){document.querySelector("div#container").style.display="inline"}function x(){document.querySelector("button#poemify").addEventListener("click",m),document.querySelector("form#newWord").addEventListener("submit",b)}function b(t){t.preventDefault();var e=document.querySelector("input#newWord");if(e.value.length){var n=function(t){var e=I(),n=D.getBoundingClientRect(),i=t.length*S.CHAR_LENGTH;S.divCtr++,k||(L=S.positions[e].top-40-45,k=!0);var r=0,s=0;if((r=S.positions[e].right-25)+i+25>n.right-25&&(r=4,L+=40),(s=L)+45>n.height)return!1;var a=O(-3,5),l=document.createElement("div");return l.innerHTML=t,l.id="div-"+S.divCtr,l.dataset.x=r,l.dataset.y=s,l.dataset.angle=a,l.style.transform="translate("+l.dataset.x+"px, "+l.dataset.y+"px)",l.style.transform+="rotateZ("+a+"deg)",l.classList.add("word","noSelect","draggable"),l.style.width=i+"px",S.divCtr++,D.appendChild(l),d(l.id),S.positions[l.id]=l.getBoundingClientRect(),S.orderAdded.push(l.id),o(),JSON.stringify({id:l.id,innerHTML:l.innerHTML,dataset:{x:l.dataset.x,y:l.dataset.y,angle:l.dataset.angle},style:{transform:l.style.transform,zIndex:l.style.zIndex,backgroundColor:l.style.backgroundColor}})}(e.value);n?(S.sendMsg({action:"newWord",word:n}),e.value=""):e.value="no more room!",e.blur()}}var w="0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)",M="0 1px 8px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",E="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTQxLjMzMjk5MjU1MzcxMSAxNDEuMzMyOTkyNTUzNzExIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImRlZjAiIHgxPSIwLjUwMDAwNSIgeDI9IjAuNTAwMDA0IiB5MT0iMSIgeTI9IjQuNjQyNDFFLTA2Ij48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1OTgyREYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NEFBQ0QiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48Zz48cGF0aCBkPSJNMTcuMzMzMywwQzcuNzYsMCwwLDcuNzU5OTksMCwxNy4zMzMzTDAsMTI0QzAsMTMzLjU3Myw3Ljc2LDE0MS4zMzMsMTcuMzMzMywxNDEuMzMzTDEyNCwxNDEuMzMzQzEzMy41NzMsMTQxLjMzMywxNDEuMzMzLDEzMy41NzMsMTQxLjMzMywxMjRMMTQxLjMzMywxNy4zMzMzQzE0MS4zMzMsNy43NTk5OSwxMzMuNTczLDAsMTI0LDBMMTcuMzMzMywweiIgZmlsbD0idXJsKCNkZWYwKSIvPjxwYXRoIGQ9Ik0xMjIuOTg4LDM4LjIxMzZDMTE5LjEzOSwzOS45MjE2IDExNSw0MS4wNzQ5IDExMC42NTgsNDEuNTkyMyAxMTUuMDksMzguOTM2MyAxMTguNDk0LDM0LjcyOTYgMTIwLjA5OCwyOS43MTQ5IDExNS45NSwzMi4xNzYzIDExMS4zNTUsMzMuOTYxNiAxMDYuNDY0LDM0LjkyNTYgMTAyLjU0OCwzMC43NTIzIDk2Ljk2ODMsMjguMTQ1NiA5MC43OTM2LDI4LjE0NTYgNzguOTM2MywyOC4xNDU2IDY5LjMyNTYsMzcuNzU3NiA2OS4zMjU2LDQ5LjYxMzYgNjkuMzI1Niw1MS4yOTc2IDY5LjUxNjMsNTIuOTM2MyA2OS44ODE2LDU0LjUwNjkgNTIuMDM4OSw1My42MTA5IDM2LjIxODksNDUuMDY1NiAyNS42Mjk2LDMyLjA3NDkgMjMuNzgyOSwzNS4yNDY5IDIyLjcyNDMsMzguOTM0OSAyMi43MjQzLDQyLjg2ODMgMjIuNzI0Myw1MC4zMTc2IDI2LjUxNDksNTYuODg4MyAzMi4yNzM2LDYwLjczODkgMjguNzU0OSw2MC42MjgzIDI1LjQ0NDMsNTkuNjYwMyAyMi41NDk2LDU4LjA1MjMgMjIuNTQ5Niw1OC4xNDE2IDIyLjU0ODMsNTguMjMyMyAyMi41NDgzLDU4LjMyNDMgMjIuNTQ4Myw2OC43MjQzIDI5Ljk0ODMsNzcuNDAyOSAzOS43NzA5LDc5LjM3MzYgMzcuOTY4Myw3OS44NjU2IDM2LjA3MDksODAuMTI2OSAzNC4xMTM2LDgwLjEyNjkgMzIuNzI5Niw4MC4xMjY5IDMxLjM4NTYsNzkuOTkyMyAzMC4wNzM2LDc5Ljc0MTYgMzIuODA1Niw4OC4yNzIzIDQwLjczNjMsOTQuNDc4OSA1MC4xMjgzLDk0LjY1MjMgNDIuNzgxNiwxMDAuNDEgMzMuNTI0MywxMDMuODQzIDIzLjQ2NjksMTAzLjg0MyAyMS43MzQ5LDEwMy44NDMgMjAuMDI0MywxMDMuNzQyIDE4LjM0NTYsMTAzLjU0MyAyNy44NDY5LDEwOS42MzQgMzkuMTMwOSwxMTMuMTg3IDUxLjI1NjMsMTEzLjE4NyA5MC43NDI5LDExMy4xODcgMTEyLjMzOSw4MC40NzQ5IDExMi4zMzksNTIuMTAyOSAxMTIuMzM5LDUxLjE3MjMgMTEyLjMxNiw1MC4yNDY5IDExMi4yNzUsNDkuMzI1NiAxMTYuNDcsNDYuMzAwMyAxMjAuMTExLDQyLjUxODkgMTIyLjk4OCwzOC4yMTM2eiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L3N2Zz4=",T=["Adam Lindsay Gordon","Alan Seeger","Alexander Pope","Algernon Charles Swinburne","Ambrose Bierce","Amy Levy","Andrew Marvell","Ann Taylor","Anne Bradstreet","Anne Bronte","Anne Killigrew","Anne Kingsmill Finch","Annie Louisa Walker","Arthur Hugh Clough","Ben Jonson","Charles Kingsley","Charles Sorley","Charlotte Bronte","Charlotte Smith","Christina Rossetti","Christopher Marlowe","Christopher Smart","Coventry Patmore","Edgar Allan Poe","Edmund Spenser","Edward Fitzgerald","Edward Lear","Edward Taylor","Edward Thomas","Eliza Cook","Elizabeth Barrett Browning","Emily Bronte","Emily Dickinson","Emma Lazarus","Ernest Dowson","Eugene Field","Francis Thompson","Geoffrey Chaucer","George Eliot","George Gordon, Lord Byron","George Herbert","George Meredith","Gerard Manley Hopkins","Helen Hunt Jackson","Henry David Thoreau","Henry Vaughan","Henry Wadsworth Longfellow","Hugh Henry Brackenridge","Isaac Watts","James Henry Leigh Hunt","James Thomson","James Whitcomb Riley","Jane Austen","Jane Taylor","John Clare","John Donne","John Dryden","John Greenleaf Whittier","John Keats","John McCrae","John Milton","John Trumbull","John Wilmot","Jonathan Swift","Joseph Warton","Joyce Kilmer","Julia Ward Howe","Jupiter Hammon","Katherine Philips","Lady Mary Chudleigh","Lewis Carroll","Lord Alfred Tennyson","Louisa May Alcott","Major Henry Livingston, Jr.","Mark Twain","Mary Elizabeth Coleridge","Matthew Arnold","Matthew Prior","Michael Drayton","Oliver Goldsmith","Oliver Wendell Holmes","Oscar Wilde","Paul Laurence Dunbar","Percy Bysshe Shelley","Philip Freneau","Phillis Wheatley","Ralph Waldo Emerson","Richard Crashaw","Richard Lovelace","Robert Browning","Robert Burns","Robert Herrick","Robert Louis Stevenson","Robert Southey","Robinson","Rupert Brooke","Samuel Coleridge","Samuel Johnson","Sarah Flower Adams","Sidney Lanier","Sir John Suckling","Sir Philip Sidney","Sir Thomas Wyatt","Sir Walter Raleigh","Sir Walter Scott","Stephen Crane","Thomas Campbell","Thomas Chatterton","Thomas Flatman","Thomas Gray","Thomas Hood","Thomas Moore","Thomas Warton","Walt Whitman","Walter Savage Landor","Wilfred Owen","William Allingham","William Barnes","William Blake","William Browne","William Cowper","William Cullen Bryant","William Ernest Henley","William Lisle Bowles","William Morris","William Shakespeare","William Topaz McGonagall","William Vaughn Moody","William Wordsworth"],C=("abattu,abature,abatures,messy,abaxial,abaxile,abaya,abayas,abb,abba,abbacies,abbacy,abbas,abbatial,abbe,abbed,abbes,abbess,abbesses,abbey,abbeys,abbot,abbotcies,abbotcy,abbots,abbotship,abbotships,abbreviate,abbreviated,abbreviates,abbreviating,abbreviation,abbreviations,abbreviator,abbreviators,abbreviatory,abbreviature,abbreviatures,abbs,abcee,abcees,abcoulomb,abcoulombs".split(","),"s,ly,es".split(",")),S={WIDTH:800,HEIGHT:700,CHAR_LENGTH:10};S.positions={},S.orderAdded=[],S.frozenWords={},S.moving=null,S.divCtr=0,S.reconnectAttempts=0;var I=function(){return S.orderAdded.length>0?S.orderAdded[S.orderAdded.length-1]:0},D=document.querySelector("div#fridge"),z=function(t,e,n){var o;return function(){var i=this,r=arguments,s=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||t.apply(i,r)},e),s&&t.apply(i,r)}},O=function(t,e){return Math.floor(Math.random()*(e-t))+t};window.dragMoveListener=s;var L=0,k=!1;!function(){window.addEventListener("beforeunload",e);var t=window.location.origin.replace(/^http/,"ws");S.socket=new WebSocket(t),S.room=window.location.href.split("/"),S.room=S.room[S.room.length-1],S.sendMsg=function(e){if(S.socket.readyState===S.socket.OPEN){var n=h(),o=JSON.stringify(Object.assign(e,{room:n.room,data:n.data}));S.socket.send(o)}else S.reconnectAttempts<5&&(console.log("recovering connection"),S.socket=new WebSocket(t)),S.reconnectAttempts++},S.socket.addEventListener("open",function(t){S.sendMsg({action:"newClient"})}),S.socket.addEventListener("message",function(t){switch((t=JSON.parse(t.data)).action){case"roomFull":var e=document.createElement("div"),o=window.location.href.split("/");o=o.slice(0,o.length-1).join("/")+"/";var i=t.data.map(function(t){return o+t});e.innerHTML='<h1>Oh no!</h1><p>this room is currently full :(</p><p>Make <a href="'.concat(i[0],'">a</a> <a href="').concat(i[1],'">new</a> <a href="').concat(i[2],'">one</a></p>\n            <p>...or try back later</p>'),e.classList.add("roomFull"),document.body.appendChild(e);break;case"requestCurrentState":h().data.length?S.sendMsg({action:"stateUpdate"}):S.sendMsg({action:"emptyRoom"});break;case"rehydrate":v(t.data);case"hydrate":y(),x(),v(t.data);break;case"newRoom":n();break;case"newWord":!function(t){var e=document.createElement("div"),n=JSON.parse(t.word);Object.keys(n).forEach(function(t){return Object.assign(e[t],n[t])}),Object.assign(e.dataset,n.dataset),Object.assign(e.style,n.style),e.id=n.id,e.innerHTML=n.innerHTML,e.classList.add("word","noSelect","draggable"),D.appendChild(e),S.positions[e.id]=e.getBoundingClientRect(),S.orderAdded.push(e.id)}(t);break;case"modify":!function(t){var e=document.getElementById(t.id),n=t.update;e.innerHTML=n.innerHTML,e.style.width=n.innerHTML.length*S.CHAR_LENGTH}({id:t.elementID,update:t.update});break;case"delete":p({id:t.elementID});break;case"moving":!function(t){var e=document.getElementById(t.elementID);e.getBoundingClientRect(),e.dataset.x=Number(e.dataset.x)+t.dx,e.dataset.y=Number(e.dataset.y)+t.dy,e.dataset.angle="",e.style.transform="translate("+e.dataset.x+"px, "+e.dataset.y+"px)"}({elementID:t.elementID,dx:t.dx,dy:t.dy});break;case"moveEnd":l(document.getElementById(t.elementID));break;case"freeze":!function(t,e,n){var o=document.getElementById(t);o.style.border="3px dotted ".concat(e);var i=document.createElement("div");i.innerHTML=n,i.classList.add("client-name"),o.appendChild(i)}(t.elementID,t.color,t.clientName),S.frozenWords[t.elementID]=!0;break;case"unfreeze":!function(t){var e=document.getElementById(t);e.style.border="1px solid black";var n=e.querySelector(".client-name");n&&e.removeChild(n)}(t.elementID),delete S.frozenWords[t.elementID]}return!1})}()}},function(t,e,n){var o,i;!function(r,s){void 0===(i="function"==typeof(o=s)?o.call(e,n,e,t):o)||(t.exports=i)}(0,function(){function t(t){this.opts=function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]},t),this.init()}function e(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}function n(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:function(t){-1!==this.opts.closeMethods.indexOf("overlay")&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(t.target,"tingle-modal")&&t.clientX<this.modal.clientWidth&&this.close()}.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:function(t){-1!==this.opts.closeMethods.indexOf("escape")&&27===t.which&&this.isOpen()&&this.close()}.bind(this)},-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}var o=function(){var t,e=document.createElement("tingle-test-transition"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t.prototype.init=function(){this.modal||(function(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&-1!==this.opts.closeMethods.indexOf("overlay")||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(t){"string"==typeof t&&this.modal.classList.add(t)},this),-1!==this.opts.closeMethods.indexOf("button")&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML="Ã—",this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),-1!==this.opts.closeMethods.indexOf("button")&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox)}.call(this),n.call(this),document.body.insertBefore(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter())},t.prototype.destroy=function(){null!==this.modal&&(function(){-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},t.prototype.open=function(){var t=this;"function"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.body.classList.add("tingle-enabled"),this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),o?this.modal.addEventListener(o,function e(){"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),t.modal.removeEventListener(o,e,!1)},!1):"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),this.checkOverflow()},t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},t.prototype.close=function(){if("function"==typeof this.opts.beforeClose){if(!this.opts.beforeClose.call(this))return}document.body.classList.remove("tingle-enabled"),this.modal.classList.remove("tingle-modal--visible");var t=this;o?this.modal.addEventListener(o,function e(){t.modal.removeEventListener(o,e,!1),t.modal.style.display="none","function"==typeof t.opts.onClose&&t.opts.onClose.call(this)},!1):(t.modal.style.display="none","function"==typeof t.opts.onClose&&t.opts.onClose.call(this))},t.prototype.setContent=function(t){"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(t))},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){(function(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}).call(this)},t.prototype.setFooterContent=function(t){this.modalBoxFooter.innerHTML=t},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(t){this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),e.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky")))},t.prototype.addFooterBtn=function(t,e,n){var o=document.createElement("button");return o.innerHTML=t,o.addEventListener("click",n),"string"==typeof e&&e.length&&e.split(" ").forEach(function(t){o.classList.add(t)}),this.modalBoxFooter.appendChild(o),o},t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},t.prototype.isOverflow=function(){var t=window.innerHeight;return this.modalBox.clientHeight>=t},t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(e.call(this),this.setStickyFooter(!0)))},{modal:t}})},function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,r,s,a;!function(n){if("object"==o(e)&&void 0!==t)t.exports=n();else{r=[],void 0===(s="function"==typeof(i=n)?i.apply(e,r):i)||(t.exports=s)}}(function(){return function t(e,n,o){function i(s,l){if(!n[s]){if(!e[s]){if(!l&&("function"==typeof a&&a))return a(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){return i(e[s][1][t]||t)},d,d.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof a&&a,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";"undefined"==typeof window?e.exports=function(e){return t("./src/utils/window").init(e),t("./src/index")}:e.exports=t("./src/index")},{"./src/index":19,"./src/utils/window":51}],2:[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];if(t.immediatePropagationStopped)break;o(t)}}var i=t("./utils/extend.js"),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=i({},e||{})}return t.prototype.fire=function(t){var e=void 0,n="on"+t.type,i=this.global;(e=this[t.type])&&o(t,e),this[n]&&this[n](t),!t.propagationStopped&&i&&(e=i[t.type])&&o(t,e)},t.prototype.on=function(t,e){this[t]?this[t].push(e):this[t]=[e]},t.prototype.off=function(t,e){var n=this[t],o=n?n.indexOf(e):-1;-1!==o&&n.splice(o,1),(n&&0===n.length||!e)&&(this[t]=void 0)},t}();e.exports=r},{"./utils/extend.js":40}],3:[function(t,e,n){"use strict";var o=t("./utils/extend"),i=t("./utils/getOriginXY"),r=t("./defaultOptions"),s=t("./utils/Signals").new(),a=function(){function t(e,n,a,l,c,d){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var p=e.target,f=(p&&p.options||r).deltaSource,h=i(p,c,a),g="start"===l,m="end"===l,v=g?e.startCoords:e.curCoords,y=e.prevEvent;c=c||e.element;var x=o({},v.page),b=o({},v.client);x.x-=h.x,x.y-=h.y,b.x-=h.x,b.y-=h.y,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=c,this.currentTarget=c,this.relatedTarget=d||null,this.preEnd=u,this.type=a+(l||""),this.interaction=e,this.interactable=p,this.t0=g?e.downTimes[e.downTimes.length-1]:y.t0;var w={interaction:e,event:n,action:a,phase:l,element:c,related:d,page:x,client:b,coords:v,starting:g,ending:m,deltaSource:f,iEvent:this};s.fire("set-xy",w),m?(this.pageX=y.pageX,this.pageY=y.pageY,this.clientX=y.clientX,this.clientY=y.clientY):(this.pageX=x.x,this.pageY=x.y,this.clientX=b.x,this.clientY=b.y),this.x0=e.startCoords.page.x-h.x,this.y0=e.startCoords.page.y-h.y,this.clientX0=e.startCoords.client.x-h.x,this.clientY0=e.startCoords.client.y-h.y,s.fire("set-delta",w),this.timeStamp=v.timeStamp,this.dt=e.pointerDelta.timeStamp,this.duration=this.timeStamp-this.t0,this.speed=e.pointerDelta[f].speed,this.velocityX=e.pointerDelta[f].vx,this.velocityY=e.pointerDelta[f].vy,this.swipe=m||"inertiastart"===l?this.getSwipe():null,s.fire("new",w)}return t.prototype.getSwipe=function(){var t=this.interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,o=202.5<=e&&e<337.5;return{up:o,down:!o&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}},t.prototype.preventDefault=function(){},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();s.on("set-delta",function(t){var e=t.iEvent,n=t.interaction,o=t.starting,i=t.deltaSource,r=o?e:n.prevEvent;"client"===i?(e.dx=e.clientX-r.clientX,e.dy=e.clientY-r.clientY):(e.dx=e.pageX-r.pageX,e.dy=e.pageY-r.pageY)}),a.signals=s,e.exports=a},{"./defaultOptions":18,"./utils/Signals":34,"./utils/extend":40,"./utils/getOriginXY":41}],4:[function(t,e,n){"use strict";var o=t("./utils/is"),i=t("./utils/events"),r=t("./utils/extend"),s=t("./actions/base"),a=t("./scope"),l=t("./Eventable"),c=t("./defaultOptions"),d=t("./utils/Signals").new(),u=t("./utils/domUtils"),p=u.getElementRect,f=u.nodeContains,h=u.trySelector,g=u.matchesSelector,m=t("./utils/window").getWindow,v=t("./utils/arr").contains,y=t("./utils/browser").wheelEvent;a.interactables=[];var x=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),n=n||{},this.target=e,this.events=new l,this._context=n.context||a.document,this._win=m(h(e)?this._context:e),this._doc=this._win.document,d.fire("new",{target:e,options:n,interactable:this,win:this._win}),a.addDocument(this._doc,this._win),a.interactables.push(this),this.set(n)}return t.prototype.setOnEvents=function(t,e){var n="on"+t;return o.function(e.onstart)&&(this.events[n+"start"]=e.onstart),o.function(e.onmove)&&(this.events[n+"move"]=e.onmove),o.function(e.onend)&&(this.events[n+"end"]=e.onend),o.function(e.oninertiastart)&&(this.events[n+"inertiastart"]=e.oninertiastart),this},t.prototype.setPerAction=function(t,e){for(var n in e)n in c[t]&&(o.object(e[n])?(this.options[t][n]=r(this.options[t][n]||{},e[n]),o.object(c.perAction[n])&&"enabled"in c.perAction[n]&&(this.options[t][n].enabled=!1!==e[n].enabled)):o.bool(e[n])&&o.object(c.perAction[n])?this.options[t][n].enabled=e[n]:void 0!==e[n]&&(this.options[t][n]=e[n]))},t.prototype.getRect=function(t){return t=t||this.target,o.string(this.target)&&!o.element(t)&&(t=this._context.querySelector(this.target)),p(t)},t.prototype.rectChecker=function(t){return o.function(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},t.prototype._backCompatOption=function(t,e){if(h(e)||o.object(e)){this.options[t]=e;for(var n=0;n<s.names.length;n++){var i=s.names[n];this.options[i][t]=e}return this}return this.options[t]},t.prototype.origin=function(t){return this._backCompatOption("origin",t)},t.prototype.deltaSource=function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},t.prototype.context=function(){return this._context},t.prototype.inContext=function(t){return this._context===t.ownerDocument||f(this._context,t)},t.prototype.fire=function(t){return this.events.fire(t),this},t.prototype._onOffMultiple=function(t,e,n,i){if(o.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.array(e)){for(var r=0;r<e.length;r++){var s=e[r];this[t](s,n,i)}return!0}if(o.object(e)){for(var a in e)this[t](a,e[a],n);return!0}},t.prototype.on=function(e,n,r){return this._onOffMultiple("on",e,n,r)?this:("wheel"===e&&(e=y),v(t.eventTypes,e)?this.events.on(e,n):o.string(this.target)?i.addDelegate(this.target,this._context,e,n,r):i.add(this.target,e,n,r),this)},t.prototype.off=function(e,n,r){return this._onOffMultiple("off",e,n,r)?this:("wheel"===e&&(e=y),v(t.eventTypes,e)?this.events.off(e,n):o.string(this.target)?i.removeDelegate(this.target,this._context,e,n,r):i.remove(this.target,e,n,r),this)},t.prototype.set=function(e){o.object(e)||(e={}),this.options=r({},c.base);var n=r({},c.perAction);for(var i in s.methodDict){var a=s.methodDict[i];this.options[i]=r({},c[i]),this.setPerAction(i,n),this[a](e[i])}for(var l=0;l<t.settingsMethods.length;l++){var u=t.settingsMethods[l];this.options[u]=c.base[u],u in e&&this[u](e[u])}return d.fire("set",{options:e,interactable:this}),this},t.prototype.unset=function(){if(i.remove(this.target,"all"),o.string(this.target))for(var t in i.delegatedEvents){var e=i.delegatedEvents[t];e.selectors[0]===this.target&&e.contexts[0]===this._context&&(e.selectors.splice(0,1),e.contexts.splice(0,1),e.listeners.splice(0,1),e.selectors.length||(e[t]=null)),i.remove(this._context,t,i.delegateListener),i.remove(this._context,t,i.delegateUseCapture,!0)}else i.remove(this,"all");d.fire("unset",{interactable:this}),a.interactables.splice(a.interactables.indexOf(this),1);for(var n=0;n<(a.interactions||[]).length;n++){var r=(a.interactions||[])[n];r.target===this&&r.interacting()&&r.stop()}return a.interact},t}();a.interactables.indexOfElement=function(t,e){e=e||a.document;for(var n=0;n<this.length;n++){var o=this[n];if(o.target===t&&o._context===e)return n}return-1},a.interactables.get=function(t,e,n){var i=this[this.indexOfElement(t,e&&e.context)];return i&&(o.string(t)||n||i.inContext(t))?i:null},a.interactables.forEachMatch=function(t,e){for(var n=0;n<this.length;n++){var i=this[n],r=void 0;if((o.string(i.target)?o.element(t)&&g(t,i.target):t===i.target)&&i.inContext(t)&&(r=e(i)),void 0!==r)return r}},x.eventTypes=a.eventTypes=[],x.signals=d,x.settingsMethods=["deltaSource","origin","preventDefault","rectChecker"],e.exports=x},{"./Eventable":2,"./actions/base":6,"./defaultOptions":18,"./scope":33,"./utils/Signals":34,"./utils/arr":35,"./utils/browser":36,"./utils/domUtils":38,"./utils/events":39,"./utils/extend":40,"./utils/is":45,"./utils/window":51}],5:[function(t,e,n){"use strict";function o(t){return function(e){var n=a.getPointerType(e),o=a.getEventTargets(e),i=o[0],r=o[1],l=[];if(c.supportsTouch&&/touch/.test(e.type)){g=(new Date).getTime();for(var d=0;d<e.changedTouches.length;d++){var p=e.changedTouches[d],f=u.search(p,e.type,i);l.push([p,f||new m({pointerType:n})])}}else{var h=!1;if(!c.supportsPointerEvent&&/mouse/.test(e.type)){for(var v=0;v<s.interactions.length&&!h;v++)h="mouse"!==s.interactions[v].pointerType&&s.interactions[v].pointerIsDown;h=h||(new Date).getTime()-g<500||0===e.timeStamp}if(!h){var y=u.search(e,e.type,i);y||(y=new m({pointerType:n})),l.push([e,y])}}for(var x=0;x<l.length;x++){var b=l[x],w=b[0],M=b[1];M._updateEventTargets(i,r),M[t](w,e,i,r)}}}function i(t){for(var e=0;e<s.interactions.length;e++){var n=s.interactions[e];n.end(t),p.fire("endall",{event:t,interaction:n})}}function r(t,e){var n=t.doc,o=0===e.indexOf("add")?l.add:l.remove;for(var i in s.delegatedEvents)o(n,i,l.delegateListener),o(n,i,l.delegateUseCapture,!0);for(var r in x)o(n,r,x[r])}var s=t("./scope"),a=t("./utils"),l=t("./utils/events"),c=t("./utils/browser"),d=t("./utils/domObjects"),u=t("./utils/interactionFinder"),p=t("./utils/Signals").new(),f={},h=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer"],g=0;s.interactions=[];for(var m=function(){function t(e){var n=e.pointerType;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.target=null,this.element=null,this.prepared={name:null,axis:null,edges:null},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this.pointerType=n,p.fire("new",this),s.interactions.push(this)}return t.prototype.pointerDown=function(t,e,n){var o=this.updatePointer(t,e,!0);p.fire("down",{pointer:t,event:e,eventTarget:n,pointerIndex:o,interaction:this})},t.prototype.start=function(t,e,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===s.interactions.indexOf(this)&&s.interactions.push(this),a.copyAction(this.prepared,t),this.target=e,this.element=n,p.fire("action-start",{interaction:this,event:this.downEvent}))},t.prototype.pointerMove=function(e,n,o){this.simulation||(this.updatePointer(e),a.setCoords(this.curCoords,this.pointers));var i=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,r=void 0,s=void 0;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.curCoords.client.x-this.startCoords.client.x,s=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=a.hypot(r,s)>t.pointerMoveTolerance);var l={pointer:e,pointerIndex:this.getPointerIndex(e),event:n,eventTarget:o,dx:r,dy:s,duplicate:i,interaction:this,interactingBeforeMove:this.interacting()};i||a.setCoordDeltas(this.pointerDelta,this.prevCoords,this.curCoords),p.fire("move",l),i||(this.interacting()&&this.doMove(l),this.pointerWasMoved&&a.copyCoords(this.prevCoords,this.curCoords))},t.prototype.doMove=function(t){t=a.extend({pointer:this.pointers[0],event:this.prevEvent,eventTarget:this._eventTarget,interaction:this},t||{}),p.fire("before-action-move",t),this._dontFireMove||p.fire("action-move",t),this._dontFireMove=!1},t.prototype.pointerUp=function(t,e,n,o){var i=this.getPointerIndex(t);p.fire(/cancel$/i.test(e.type)?"cancel":"up",{pointer:t,pointerIndex:i,event:e,eventTarget:n,curEventTarget:o,interaction:this}),this.simulation||this.end(e),this.pointerIsDown=!1,this.removePointer(t,e)},t.prototype.end=function(t){t=t||this.prevEvent,this.interacting()&&p.fire("action-end",{event:t,interaction:this}),this.stop()},t.prototype.currentAction=function(){return this._interacting?this.prepared.name:null},t.prototype.interacting=function(){return this._interacting},t.prototype.stop=function(){p.fire("stop",{interaction:this}),this._interacting&&(p.fire("stop-active",{interaction:this}),p.fire("stop-"+this.prepared.name,{interaction:this})),this.target=this.element=null,this._interacting=!1,this.prepared.name=this.prevEvent=null},t.prototype.getPointerIndex=function(t){return"mouse"===this.pointerType||"pen"===this.pointerType?0:this.pointerIds.indexOf(a.getPointerId(t))},t.prototype.updatePointer=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e&&/(down|start)$/i.test(e.type),o=a.getPointerId(t),i=this.getPointerIndex(t);return-1===i&&(i=this.pointerIds.length,this.pointerIds[i]=o),n&&p.fire("update-pointer-down",{pointer:t,event:e,down:n,pointerId:o,pointerIndex:i,interaction:this}),this.pointers[i]=t,i},t.prototype.removePointer=function(t,e){var n=this.getPointerIndex(t);-1!==n&&(p.fire("remove-pointer",{pointer:t,event:e,pointerIndex:n,interaction:this}),this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1))},t.prototype._updateEventTargets=function(t,e){this._eventTarget=t,this._curEventTarget=e},t}(),v=0;v<h.length;v++){var y=h[v];f[y]=o(y)}var x={},b=c.pEventTypes;d.PointerEvent?(x[b.down]=f.pointerDown,x[b.move]=f.pointerMove,x[b.up]=f.pointerUp,x[b.cancel]=f.pointerUp):(x.mousedown=f.pointerDown,x.mousemove=f.pointerMove,x.mouseup=f.pointerUp,x.touchstart=f.pointerDown,x.touchmove=f.pointerMove,x.touchend=f.pointerUp,x.touchcancel=f.pointerUp),x.blur=i,p.on("update-pointer-down",function(t){var e=t.interaction,n=t.pointer,o=t.pointerId,i=t.pointerIndex,r=t.event,s=t.eventTarget,l=t.down;e.pointerIds[i]=o,e.pointers[i]=n,l&&(e.pointerIsDown=!0),e.interacting()||(a.setCoords(e.startCoords,e.pointers),a.copyCoords(e.curCoords,e.startCoords),a.copyCoords(e.prevCoords,e.startCoords),e.downEvent=r,e.downTimes[i]=e.curCoords.timeStamp,e.downTargets[i]=s||r&&a.getEventTargets(r)[0],e.pointerWasMoved=!1,a.pointerExtend(e.downPointer,n))}),s.signals.on("add-document",r),s.signals.on("remove-document",r),m.pointerMoveTolerance=1,m.doOnInteractions=o,m.endAll=i,m.signals=p,m.docEvents=x,s.endAllInteractions=i,e.exports=m},{"./scope":33,"./utils":43,"./utils/Signals":34,"./utils/browser":36,"./utils/domObjects":37,"./utils/events":39,"./utils/interactionFinder":44}],6:[function(t,e,n){"use strict";function o(t,e,n,o){var i=t.prepared.name,s=new r(t,e,i,n,t.element,null,o);t.target.fire(s),t.prevEvent=s}var i=t("../Interaction"),r=t("../InteractEvent"),s={firePrepared:o,names:[],methodDict:{}};i.signals.on("action-start",function(t){var e=t.interaction,n=t.event;e._interacting=!0,o(e,n,"start")}),i.signals.on("action-move",function(t){var e=t.interaction;if(o(e,t.event,"move",t.preEnd),!e.interacting())return!1}),i.signals.on("action-end",function(t){o(t.interaction,t.event,"end")}),e.exports=s},{"../InteractEvent":3,"../Interaction":5}],7:[function(t,e,n){"use strict";var o=t("./base"),i=t("../utils"),r=t("../InteractEvent"),s=t("../Interactable"),a=t("../Interaction"),l=t("../defaultOptions"),c={defaults:{enabled:!1,mouseButtons:null,origin:null,snap:null,restrict:null,inertia:null,autoScroll:null,startAxis:"xy",lockAxis:"xy"},checker:function(t,e,n){var o=n.options.drag;return o.enabled?{name:"drag",axis:"start"===o.lockAxis?o.startAxis:o.lockAxis}:null},getCursor:function(){return"move"}};a.signals.on("before-action-move",function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.curCoords.page.y=e.startCoords.page.y,e.curCoords.client.y=e.startCoords.client.y,e.pointerDelta.page.speed=Math.abs(e.pointerDelta.page.vx),e.pointerDelta.client.speed=Math.abs(e.pointerDelta.client.vx),e.pointerDelta.client.vy=0,e.pointerDelta.page.vy=0):"y"===n&&(e.curCoords.page.x=e.startCoords.page.x,e.curCoords.client.x=e.startCoords.client.x,e.pointerDelta.page.speed=Math.abs(e.pointerDelta.page.vy),e.pointerDelta.client.speed=Math.abs(e.pointerDelta.client.vy),e.pointerDelta.client.vx=0,e.pointerDelta.page.vx=0)}}),r.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;if("dragmove"===e.type){var o=n.prepared.axis;"x"===o?(e.pageY=n.startCoords.page.y,e.clientY=n.startCoords.client.y,e.dy=0):"y"===o&&(e.pageX=n.startCoords.page.x,e.clientX=n.startCoords.client.x,e.dx=0)}}),s.prototype.draggable=function(t){return i.is.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):i.is.bool(t)?(this.options.drag.enabled=t,t||(this.ondragstart=this.ondragstart=this.ondragend=null),this):this.options.drag},o.drag=c,o.names.push("drag"),i.merge(s.eventTypes,["dragstart","dragmove","draginertiastart","draginertiaresume","dragend"]),o.methodDict.drag="draggable",l.drag=c.defaults,e.exports=c},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":43,"./base":6}],8:[function(t,e,n){"use strict";function o(t,e){for(var n=void 0,o=0;o<t.activeDrops.dropzones.length;o++){var i=t.activeDrops.dropzones[o],r=t.activeDrops.elements[o];r!==n&&(e.target=r,i.fire(e)),n=r}}function i(t,e){var n=function(t,e){var n=[],o=[];e=e||t.element;for(var i=0;i<c.interactables.length;i++){var r=c.interactables[i];if(r.options.drop.enabled){var s=r.options.drop.accept;if(!(l.is.element(s)&&s!==e||l.is.string(s)&&!l.matchesSelector(e,s)))for(var a=l.is.string(r.target)?r._context.querySelectorAll(r.target):[r.target],d=0;d<a.length;d++){var u=a[d];u!==e&&(n.push(r),o.push(u))}}}return{elements:o,dropzones:n}}(t,e);t.activeDrops.dropzones=n.dropzones,t.activeDrops.elements=n.elements,t.activeDrops.rects=[];for(var o=0;o<t.activeDrops.dropzones.length;o++)t.activeDrops.rects[o]=t.activeDrops.dropzones[o].getRect(t.activeDrops.elements[o])}function r(t,e,n){var o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null},i={dragEvent:n,interaction:t,target:t.dropElement,dropzone:t.dropTarget,relatedTarget:n.target,draggable:n.interactable,timeStamp:n.timeStamp};return t.dropElement!==t.prevDropElement&&(t.prevDropTarget&&(o.leave=l.extend({type:"dragleave"},i),n.dragLeave=o.leave.target=t.prevDropElement,n.prevDropzone=o.leave.dropzone=t.prevDropTarget),t.dropTarget&&(o.enter={dragEvent:n,interaction:t,target:t.dropElement,dropzone:t.dropTarget,relatedTarget:n.target,draggable:n.interactable,timeStamp:n.timeStamp,type:"dragenter"},n.dragEnter=t.dropElement,n.dropzone=t.dropTarget)),"dragend"===n.type&&t.dropTarget&&(o.drop=l.extend({type:"drop"},i),n.dropzone=t.dropTarget,n.relatedTarget=t.dropElement),"dragstart"===n.type&&(o.activate=l.extend({type:"dropactivate"},i),o.activate.target=null,o.activate.dropzone=null),"dragend"===n.type&&(o.deactivate=l.extend({type:"dropdeactivate"},i),o.deactivate.target=null,o.deactivate.dropzone=null),"dragmove"===n.type&&t.dropTarget&&(o.move=l.extend({dragmove:n,type:"dropmove"},i),n.dropzone=t.dropTarget),o}function s(t,e){e.leave&&t.prevDropTarget.fire(e.leave),e.move&&t.dropTarget.fire(e.move),e.enter&&t.dropTarget.fire(e.enter),e.drop&&t.dropTarget.fire(e.drop),e.deactivate&&o(t,e.deactivate),t.prevDropTarget=t.dropTarget,t.prevDropElement=t.dropElement}var a=t("./base"),l=t("../utils"),c=t("../scope"),d=t("../interact"),u=t("../InteractEvent"),p=t("../Interactable"),f=t("../Interaction"),h=t("../defaultOptions"),g={defaults:{enabled:!1,accept:null,overlap:"pointer"}},m=!1;f.signals.on("action-start",function(t){var e=t.interaction;t.event;if("drag"===e.prepared.name){e.activeDrops.dropzones=[],e.activeDrops.elements=[],e.activeDrops.rects=[],e.dropEvents=null,e.dynamicDrop||i(e,e.element);var n=r(e,0,e.prevEvent);n.activate&&o(e,n.activate)}}),u.signals.on("new",function(t){var e=t.interaction,n=t.iEvent,o=t.event;if("dragmove"===n.type||"dragend"===n.type){var s=n,a=function(t,e,n){var o=t.interaction,r=[];m&&i(o,n);for(var s=0;s<o.activeDrops.dropzones.length;s++){var a=o.activeDrops.dropzones[s],c=o.activeDrops.elements[s],d=o.activeDrops.rects[s];r.push(a.dropCheck(t,e,o.target,n,c,d)?c:null)}var u=l.indexOfDeepestElement(r);return{dropzone:o.activeDrops.dropzones[u]||null,element:o.activeDrops.elements[u]||null}}(s,o,e.element);e.dropTarget=a.dropzone,e.dropElement=a.element,e.dropEvents=r(e,0,s)}}),f.signals.on("action-move",function(t){var e=t.interaction;"drag"===e.prepared.name&&s(e,e.dropEvents)}),f.signals.on("action-end",function(t){var e=t.interaction;"drag"===e.prepared.name&&s(e,e.dropEvents)}),f.signals.on("stop-drag",function(t){var e=t.interaction;e.activeDrops.dropzones=e.activeDrops.elements=e.activeDrops.rects=e.dropEvents=null}),p.prototype.dropzone=function(t){return l.is.object(t)?(this.options.drop.enabled=!1!==t.enabled,l.is.function(t.ondrop)&&(this.events.ondrop=t.ondrop),l.is.function(t.ondropactivate)&&(this.events.ondropactivate=t.ondropactivate),l.is.function(t.ondropdeactivate)&&(this.events.ondropdeactivate=t.ondropdeactivate),l.is.function(t.ondragenter)&&(this.events.ondragenter=t.ondragenter),l.is.function(t.ondragleave)&&(this.events.ondragleave=t.ondragleave),l.is.function(t.ondropmove)&&(this.events.ondropmove=t.ondropmove),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:l.is.number(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(this.options.drop.accept=t.accept),"checker"in t&&(this.options.drop.checker=t.checker),this):l.is.bool(t)?(this.options.drop.enabled=t,t||(this.ondragenter=this.ondragleave=this.ondrop=this.ondropactivate=this.ondropdeactivate=null),this):this.options.drop},p.prototype.dropCheck=function(t,e,n,o,i,r){var s=!1;if(!(r=r||this.getRect(i)))return!!this.options.drop.checker&&this.options.drop.checker(t,e,s,this,i,n,o);var a=this.options.drop.overlap;if("pointer"===a){var c=l.getOriginXY(n,o,"drag"),d=l.getPageXY(t);d.x+=c.x,d.y+=c.y;var u=d.x>r.left&&d.x<r.right,p=d.y>r.top&&d.y<r.bottom;s=u&&p}var f=n.getRect(o);if(f&&"center"===a){var h=f.left+f.width/2,g=f.top+f.height/2;s=h>=r.left&&h<=r.right&&g>=r.top&&g<=r.bottom}return f&&l.is.number(a)&&(s=Math.max(0,Math.min(r.right,f.right)-Math.max(r.left,f.left))*Math.max(0,Math.min(r.bottom,f.bottom)-Math.max(r.top,f.top))/(f.width*f.height)>=a),this.options.drop.checker&&(s=this.options.drop.checker(t,e,s,this,i,n,o)),s},p.signals.on("unset",function(t){t.interactable.dropzone(!1)}),p.settingsMethods.push("dropChecker"),f.signals.on("new",function(t){t.dropTarget=null,t.dropElement=null,t.prevDropTarget=null,t.prevDropElement=null,t.dropEvents=null,t.activeDrops={dropzones:[],elements:[],rects:[]}}),f.signals.on("stop",function(t){var e=t.interaction;e.dropTarget=e.dropElement=e.prevDropTarget=e.prevDropElement=null}),d.dynamicDrop=function(t){return l.is.bool(t)?(m=t,d):m},l.merge(p.eventTypes,["dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop"]),a.methodDict.drop="dropzone",h.drop=g.defaults,e.exports=g},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../interact":21,"../scope":33,"../utils":43,"./base":6}],9:[function(t,e,n){"use strict";var o=t("./base"),i=t("../utils"),r=t("../InteractEvent"),s=t("../Interactable"),a=t("../Interaction"),l=t("../defaultOptions"),c={defaults:{enabled:!1,origin:null,restrict:null},checker:function(t,e,n,o,i){return i.pointerIds.length>=2?{name:"gesture"}:null},getCursor:function(){return""}};r.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;"gesturestart"===e.type&&(e.ds=0,n.gesture.startDistance=n.gesture.prevDistance=e.distance,n.gesture.startAngle=n.gesture.prevAngle=e.angle,n.gesture.scale=1)}),r.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;"gesturemove"===e.type&&(e.ds=e.scale-n.gesture.scale,n.target.fire(e),n.gesture.prevAngle=e.angle,n.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(n.gesture.scale=e.scale))}),s.prototype.gesturable=function(t){return i.is.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):i.is.bool(t)?(this.options.gesture.enabled=t,t||(this.ongesturestart=this.ongesturestart=this.ongestureend=null),this):this.options.gesture},r.signals.on("set-delta",function(t){var e=t.interaction,n=t.iEvent,o=t.action,s=t.event,a=t.starting,l=t.ending,c=t.deltaSource;if("gesture"===o){var d=e.pointers;n.touches=[d[0],d[1]],a?(n.distance=i.touchDistance(d,c),n.box=i.touchBBox(d),n.scale=1,n.ds=0,n.angle=i.touchAngle(d,void 0,c),n.da=0):l||s instanceof r?(n.distance=e.prevEvent.distance,n.box=e.prevEvent.box,n.scale=e.prevEvent.scale,n.ds=n.scale-1,n.angle=e.prevEvent.angle,n.da=n.angle-e.gesture.startAngle):(n.distance=i.touchDistance(d,c),n.box=i.touchBBox(d),n.scale=n.distance/e.gesture.startDistance,n.angle=i.touchAngle(d,e.gesture.prevAngle,c),n.ds=n.scale-e.gesture.prevScale,n.da=n.angle-e.gesture.prevAngle)}}),a.signals.on("new",function(t){t.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0}}),o.gesture=c,o.names.push("gesture"),i.merge(s.eventTypes,["gesturestart","gesturemove","gestureend"]),o.methodDict.gesture="gesturable",l.gesture=c.defaults,e.exports=c},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":43,"./base":6}],10:[function(t,e,n){"use strict";function o(t,e,n,o,i,s,a){if(!e)return!1;if(!0===e){var l=r.is.number(s.width)?s.width:s.right-s.left,c=r.is.number(s.height)?s.height:s.bottom-s.top;if(l<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(l>=0?s.left:s.right)+a;if("top"===t)return n.y<(c>=0?s.top:s.bottom)+a;if("right"===t)return n.x>(l>=0?s.right:s.left)-a;if("bottom"===t)return n.y>(c>=0?s.bottom:s.top)-a}return!!r.is.element(o)&&(r.is.element(e)?e===o:r.matchesUpTo(o,e,i))}var i=t("./base"),r=t("../utils"),s=t("../utils/browser"),a=t("../InteractEvent"),l=t("../Interactable"),c=t("../Interaction"),d=t("../defaultOptions"),u=s.supportsTouch||s.supportsPointerEvent?20:10,p={defaults:{enabled:!1,mouseButtons:null,origin:null,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},checker:function(t,e,n,i,s,a){if(!a)return null;var l=r.extend({},s.curCoords.page),c=n.options;if(c.resize.enabled){var d=c.resize,p={left:!1,right:!1,top:!1,bottom:!1};if(r.is.object(d.edges)){for(var f in p)p[f]=o(f,d.edges[f],l,s._eventTarget,i,a,d.margin||u);if(p.left=p.left&&!p.right,p.top=p.top&&!p.bottom,p.left||p.right||p.top||p.bottom)return{name:"resize",edges:p}}else{var h="y"!==c.resize.axis&&l.x>a.right-u,g="x"!==c.resize.axis&&l.y>a.bottom-u;if(h||g)return{name:"resize",axes:(h?"x":"")+(g?"y":"")}}}return null},cursors:s.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},getCursor:function(t){if(t.axis)return p.cursors[t.name+t.axis];if(t.edges){for(var e="",n=["top","bottom","left","right"],o=0;o<4;o++)t.edges[n[o]]&&(e+=n[o]);return p.cursors[e]}}};a.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;if("resizestart"===e.type&&n.prepared.edges){var o=n.target.getRect(n.element),i=n.target.options.resize;if(i.square||i.preserveAspectRatio){var s=r.extend({},n.prepared.edges);s.top=s.top||s.left&&!s.bottom,s.left=s.left||s.top&&!s.right,s.bottom=s.bottom||s.right&&!s.top,s.right=s.right||s.bottom&&!s.left,n.prepared._linkedEdges=s}else n.prepared._linkedEdges=null;i.preserveAspectRatio&&(n.resizeStartAspectRatio=o.width/o.height),n.resizeRects={start:o,current:r.extend({},o),inverted:r.extend({},o),previous:r.extend({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=n.resizeRects.inverted,e.deltaRect=n.resizeRects.delta}}),a.signals.on("new",function(t){var e=t.iEvent,n=t.phase,o=t.interaction;if("move"===n&&o.prepared.edges){var i=o.target.options.resize,s=i.invert,a="reposition"===s||"negate"===s,l=o.prepared.edges,c=o.resizeRects.start,d=o.resizeRects.current,u=o.resizeRects.inverted,p=o.resizeRects.delta,f=r.extend(o.resizeRects.previous,u),h=l,g=e.dx,m=e.dy;if(i.preserveAspectRatio||i.square){var v=i.preserveAspectRatio?o.resizeStartAspectRatio:1;l=o.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?m=-g/v:h.left||h.right?m=g/v:(h.top||h.bottom)&&(g=m*v)}if(l.top&&(d.top+=m),l.bottom&&(d.bottom+=m),l.left&&(d.left+=g),l.right&&(d.right+=g),a){if(r.extend(u,d),"reposition"===s){var y=void 0;u.top>u.bottom&&(y=u.top,u.top=u.bottom,u.bottom=y),u.left>u.right&&(y=u.left,u.left=u.right,u.right=y)}}else u.top=Math.min(d.top,c.bottom),u.bottom=Math.max(d.bottom,c.top),u.left=Math.min(d.left,c.right),u.right=Math.max(d.right,c.left);u.width=u.right-u.left,u.height=u.bottom-u.top;for(var x in u)p[x]=u[x]-f[x];e.edges=o.prepared.edges,e.rect=u,e.deltaRect=p}}),l.prototype.resizable=function(t){return r.is.object(t)?(this.options.resize.enabled=!1!==t.enabled,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=d.resize.axis),r.is.bool(t.preserveAspectRatio)?this.options.resize.preserveAspectRatio=t.preserveAspectRatio:r.is.bool(t.square)&&(this.options.resize.square=t.square),this):r.is.bool(t)?(this.options.resize.enabled=t,t||(this.onresizestart=this.onresizestart=this.onresizeend=null),this):this.options.resize},c.signals.on("new",function(t){t.resizeAxes="xy"}),a.signals.on("set-delta",function(t){var e=t.interaction,n=t.iEvent;"resize"===t.action&&e.resizeAxes&&(e.target.options.resize.square?("y"===e.resizeAxes?n.dx=n.dy:n.dy=n.dx,n.axes="xy"):(n.axes=e.resizeAxes,"x"===e.resizeAxes?n.dy=0:"y"===e.resizeAxes&&(n.dx=0)))}),i.resize=p,i.names.push("resize"),r.merge(l.eventTypes,["resizestart","resizemove","resizeinertiastart","resizeinertiaresume","resizeend"]),i.methodDict.resize="resizable",d.resize=p.defaults,e.exports=p},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":43,"../utils/browser":36,"./base":6}],11:[function(t,e,n){"use strict";var o=t("./utils/raf"),i=t("./utils/window").getWindow,r=t("./utils/is"),s=t("./utils/domUtils"),a=t("./Interaction"),l=t("./defaultOptions"),c={defaults:{enabled:!1,container:null,margin:60,speed:300},interaction:null,i:null,x:0,y:0,isScrolling:!1,prevTime:0,start:function(t){c.isScrolling=!0,o.cancel(c.i),c.interaction=t,c.prevTime=(new Date).getTime(),c.i=o.request(c.scroll)},stop:function(){c.isScrolling=!1,o.cancel(c.i)},scroll:function(){var t=c.interaction.target.options[c.interaction.prepared.name].autoScroll,e=t.container||i(c.interaction.element),n=(new Date).getTime(),s=(n-c.prevTime)/1e3,a=t.speed*s;a>=1&&(r.window(e)?e.scrollBy(c.x*a,c.y*a):e&&(e.scrollLeft+=c.x*a,e.scrollTop+=c.y*a),c.prevTime=n),c.isScrolling&&(o.cancel(c.i),c.i=o.request(c.scroll))},check:function(t,e){var n=t.options;return n[e].autoScroll&&n[e].autoScroll.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&c.check(e.target,e.prepared.name)){if(e.simulation)return void(c.x=c.y=0);var o=void 0,a=void 0,l=void 0,d=void 0,u=e.target.options[e.prepared.name].autoScroll,p=u.container||i(e.element);if(r.window(p))d=n.clientX<c.margin,o=n.clientY<c.margin,a=n.clientX>p.innerWidth-c.margin,l=n.clientY>p.innerHeight-c.margin;else{var f=s.getElementClientRect(p);d=n.clientX<f.left+c.margin,o=n.clientY<f.top+c.margin,a=n.clientX>f.right-c.margin,l=n.clientY>f.bottom-c.margin}c.x=a?1:d?-1:0,c.y=l?1:o?-1:0,c.isScrolling||(c.margin=u.margin,c.speed=u.speed,c.start(e))}}};a.signals.on("stop-active",function(){c.stop()}),a.signals.on("action-move",c.onInteractionMove),l.perAction.autoScroll=c.defaults,e.exports=c},{"./Interaction":5,"./defaultOptions":18,"./utils/domUtils":38,"./utils/is":45,"./utils/raf":49,"./utils/window":51}],12:[function(t,e,n){"use strict";var o=t("../Interactable"),i=t("../actions/base"),r=t("../utils/is"),s=t("../utils/domUtils"),a=t("../utils").warnOnce;o.prototype.getAction=function(t,e,n,o){var i=this.defaultActionChecker(t,e,n,o);return this.options.actionChecker?this.options.actionChecker(t,e,i,this,o,n):i},o.prototype.ignoreFrom=a(function(t){return this._backCompatOption("ignoreFrom",t)},"Interactable.ignoreForm() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),o.prototype.allowFrom=a(function(t){return this._backCompatOption("allowFrom",t)},"Interactable.allowForm() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),o.prototype.testIgnore=function(t,e,n){return!(!t||!r.element(n))&&(r.string(t)?s.matchesUpTo(n,t,e):!!r.element(t)&&s.nodeContains(t,n))},o.prototype.testAllow=function(t,e,n){return!t||!!r.element(n)&&(r.string(t)?s.matchesUpTo(n,t,e):!!r.element(t)&&s.nodeContains(t,n))},o.prototype.testIgnoreAllow=function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)},o.prototype.actionChecker=function(t){return r.function(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},o.prototype.styleCursor=function(t){return r.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},o.prototype.defaultActionChecker=function(t,e,n,o){for(var r=this.getRect(o),s=e.buttons||{0:1,1:4,3:8,4:16}[e.button],a=null,l=0;l<i.names.length;l++){var c=i.names[l];if((!n.pointerIsDown||!/mouse|pointer/.test(n.pointerType)||0!=(s&this.options[c].mouseButtons))&&(a=i[c].checker(t,e,this,o,n,r)))return a}}},{"../Interactable":4,"../actions/base":6,"../utils":43,"../utils/domUtils":38,"../utils/is":45}],13:[function(t,e,n){"use strict";function o(t,e,n,o){return h.is.object(t)&&e.testIgnoreAllow(e.options[t.name],n,o)&&e.options[t.name].enabled&&a(e,n,t)?t:null}function i(t,e,n,i,r,s){for(var a=0,l=i.length;a<l;a++){var c=i[a],d=r[a],u=o(c.getAction(e,n,t,d),c,d,s);if(u)return{action:u,target:c,element:d}}return{}}function r(t,e,n,o){function r(t){s.push(t),a.push(l)}for(var s=[],a=[],l=o;h.is.element(l);){s=[],a=[],f.interactables.forEachMatch(l,r);var c=i(t,e,n,s,a,o);if(c.action&&!c.target.options[c.action.name].manualStart)return c;l=h.parentNode(l)}return{}}function s(t,e){var n=e.action,o=e.target,i=e.element;if(n=n||{},t.target&&t.target.options.styleCursor&&(t.target._doc.documentElement.style.cursor=""),t.target=o,t.element=i,h.copyAction(t.prepared,n),o&&o.options.styleCursor){var r=n?u[n.name].getCursor(n):"";t.target._doc.documentElement.style.cursor=r}g.fire("prepared",{interaction:t})}function a(t,e,n){var o=t.options,i=o[n.name].max,r=o[n.name].maxPerElement,s=0,a=0,l=0;if(i&&r&&m.maxInteractions){for(var c=0;c<f.interactions.length;c++){var d=f.interactions[c],u=d.prepared.name;if(d.interacting()){if(++s>=m.maxInteractions)return!1;if(d.target===t){if((a+=u===n.name|0)>=i)return!1;if(d.element===e&&(l++,u!==n.name||l>=r))return!1}}}return m.maxInteractions>0}}var l=t("../interact"),c=t("../Interactable"),d=t("../Interaction"),u=t("../actions/base"),p=t("../defaultOptions"),f=t("../scope"),h=t("../utils"),g=t("../utils/Signals").new();t("./InteractableMethods");var m={signals:g,withinInteractionLimit:a,maxInteractions:1/0,defaults:{perAction:{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}},setActionDefaults:function(t){h.extend(t.defaults,m.defaults.perAction)},validateAction:o};d.signals.on("down",function(t){var e=t.interaction,n=t.pointer,o=t.event,i=t.eventTarget;e.interacting()||s(e,r(e,n,o,i))}),d.signals.on("move",function(t){var e=t.interaction,n=t.pointer,o=t.event,i=t.eventTarget;"mouse"!==e.pointerType||e.pointerIsDown||e.interacting()||s(e,r(e,n,o,i))}),d.signals.on("move",function(t){var e=t.interaction,n=t.event;if(e.pointerIsDown&&!e.interacting()&&e.pointerWasMoved&&e.prepared.name){g.fire("before-start",t);var o=e.target;e.prepared.name&&o&&(o.options[e.prepared.name].manualStart||!a(o,e.element,e.prepared)?e.stop(n):e.start(e.prepared,o,e.element))}}),d.signals.on("stop",function(t){var e=t.interaction.target;e&&e.options.styleCursor&&(e._doc.documentElement.style.cursor="")}),l.maxInteractions=function(t){return h.is.number(t)?(m.maxInteractions=t,l):m.maxInteractions},c.settingsMethods.push("styleCursor"),c.settingsMethods.push("actionChecker"),c.settingsMethods.push("ignoreFrom"),c.settingsMethods.push("allowFrom"),p.base.actionChecker=null,p.base.styleCursor=!0,h.extend(p.perAction,m.defaults.perAction),e.exports=m},{"../Interactable":4,"../Interaction":5,"../actions/base":6,"../defaultOptions":18,"../interact":21,"../scope":33,"../utils":43,"../utils/Signals":34,"./InteractableMethods":12}],14:[function(t,e,n){"use strict";var o=t("./base"),i=t("../scope"),r=t("../utils/is"),s=t("../utils/domUtils").parentNode;o.setActionDefaults(t("../actions/drag")),o.signals.on("before-start",function(t){var e=t.interaction,n=t.eventTarget,a=t.dx,l=t.dy;if("drag"===e.prepared.name){var c=Math.abs(a),d=Math.abs(l),u=e.target.options.drag,p=u.startAxis,f=c>d?"x":c<d?"y":"xy";if(e.prepared.axis="start"===u.lockAxis?f[0]:u.lockAxis,"xy"!==f&&"xy"!==p&&p!==f){e.prepared.name=null;for(var h=n,g=function(t){if(t!==e.target){var i=e.target.options.drag;if(!i.manualStart&&t.testIgnoreAllow(i,h,n)){var r=t.getAction(e.downPointer,e.downEvent,e,h);if(r&&"drag"===r.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(f,t)&&o.validateAction(r,t,h,n))return t}}};r.element(h);){var m=i.interactables.forEachMatch(h,g);if(m){e.prepared.name="drag",e.target=m,e.element=h;break}h=s(h)}}}})},{"../actions/drag":7,"../scope":33,"../utils/domUtils":38,"../utils/is":45,"./base":13}],15:[function(t,e,n){"use strict";t("./base").setActionDefaults(t("../actions/gesture"))},{"../actions/gesture":9,"./base":13}],16:[function(t,e,n){"use strict";function o(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.target.options;return n[e].hold||n[e].delay}var i=t("./base"),r=t("../Interaction");i.defaults.perAction.hold=0,i.defaults.perAction.delay=0,r.signals.on("new",function(t){t.autoStartHoldTimer=null}),i.signals.on("prepared",function(t){var e=t.interaction,n=o(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.target,e.element)},n))}),r.signals.on("move",function(t){var e=t.interaction,n=t.duplicate;e.pointerWasMoved&&!n&&clearTimeout(e.autoStartHoldTimer)}),i.signals.on("before-start",function(t){var e=t.interaction;o(e)>0&&(e.prepared.name=null)}),e.exports={getHoldDuration:o}},{"../Interaction":5,"./base":13}],17:[function(t,e,n){"use strict";t("./base").setActionDefaults(t("../actions/resize"))},{"../actions/resize":10,"./base":13}],18:[function(t,e,n){"use strict";e.exports={base:{accept:null,preventDefault:"auto",deltaSource:"page"},perAction:{origin:{x:0,y:0},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}}}},{}],19:[function(t,e,n){"use strict";t("./inertia"),t("./modifiers/snap"),t("./modifiers/restrict"),t("./pointerEvents/base"),t("./pointerEvents/holdRepeat"),t("./pointerEvents/interactableTargets"),t("./autoStart/hold"),t("./actions/gesture"),t("./actions/resize"),t("./actions/drag"),t("./actions/drop"),t("./modifiers/snapSize"),t("./modifiers/restrictEdges"),t("./modifiers/restrictSize"),t("./autoStart/gesture"),t("./autoStart/resize"),t("./autoStart/drag"),t("./interactablePreventDefault.js"),t("./autoScroll"),e.exports=t("./interact")},{"./actions/drag":7,"./actions/drop":8,"./actions/gesture":9,"./actions/resize":10,"./autoScroll":11,"./autoStart/drag":14,"./autoStart/gesture":15,"./autoStart/hold":16,"./autoStart/resize":17,"./inertia":20,"./interact":21,"./interactablePreventDefault.js":22,"./modifiers/restrict":24,"./modifiers/restrictEdges":25,"./modifiers/restrictSize":26,"./modifiers/snap":27,"./modifiers/snapSize":28,"./pointerEvents/base":30,"./pointerEvents/holdRepeat":31,"./pointerEvents/interactableTargets":32}],20:[function(t,e,n){"use strict";function o(t){var e=t.inertiaStatus;if(e.active){var n=e.upCoords.page,o=e.upCoords.client;a.setCoords(t.curCoords,[{pageX:n.x+e.sx,pageY:n.y+e.sy,clientX:o.x+e.sx,clientY:o.y+e.sy}])}}var i=t("./InteractEvent"),r=t("./Interaction"),s=t("./modifiers/base"),a=t("./utils"),l=t("./utils/raf");r.signals.on("new",function(t){t.inertiaStatus={active:!1,smoothEnd:!1,allowResume:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,lambda_v0:0,one_ve_v0:0,i:null},t.boundInertiaFrame=function(){return function(){o(this),a.setCoordDeltas(this.pointerDelta,this.prevCoords,this.curCoords);var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia.resistance,n=(new Date).getTime()/1e3-t.t0;if(n<t.te){var i=1-(Math.exp(-e*n)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*i,t.sy=t.ye*i;else{var r=a.getQuadraticCurvePoint(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,i);t.sx=r.x,t.sy=r.y}this.doMove(),t.i=l.request(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.doMove(),this.end(t.startEvent),t.active=!1,this.simulation=null;a.copyCoords(this.prevCoords,this.curCoords)}.apply(t)},t.boundSmoothEndFrame=function(){return function(){o(this);var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;e<n?(t.sx=a.easeOutQuad(e,0,t.xe,n),t.sy=a.easeOutQuad(e,0,t.ye,n),this.pointerMove(t.startEvent,t.startEvent),t.i=l.request(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),this.end(t.startEvent),t.smoothEnd=t.active=!1,this.simulation=null)}.apply(t)}}),r.signals.on("down",function(t){var e=t.interaction,n=t.event,o=t.pointer,c=t.eventTarget,d=e.inertiaStatus;if(d.active)for(var u=c;a.is.element(u);){if(u===e.element){l.cancel(d.i),d.active=!1,e.simulation=null,e.updatePointer(o),a.setCoords(e.curCoords,e.pointers);var p={interaction:e};r.signals.fire("before-action-move",p),r.signals.fire("action-resume",p);var f=new i(e,n,e.prepared.name,"inertiaresume",e.element);e.target.fire(f),e.prevEvent=f,s.resetStatuses(e.modifierStatuses),a.copyCoords(e.prevCoords,e.curCoords);break}u=a.parentNode(u)}}),r.signals.on("up",function(t){var e=t.interaction,n=t.event,o=e.inertiaStatus;if(e.interacting()&&!o.active){var r=e.target,c=r&&r.options,d=c&&e.prepared.name&&c[e.prepared.name].inertia,u=(new Date).getTime(),p={},f=a.extend({},e.curCoords.page),h=e.pointerDelta.client.speed,g=!1,m=void 0,v=d&&d.enabled&&"gesture"!==e.prepared.name&&n!==o.startEvent,y=v&&u-e.curCoords.timeStamp<50&&h>d.minSpeed&&h>d.endSpeed,x={interaction:e,pageCoords:f,statuses:p,preEnd:!0,requireEndOnly:!0};v&&!y&&(s.resetStatuses(p),(m=s.setAll(x)).shouldMove&&m.locked&&(g=!0)),(y||g)&&(a.copyCoords(o.upCoords,e.curCoords),e.pointers[0]=o.startEvent=new i(e,n,e.prepared.name,"inertiastart",e.element),o.t0=u,o.active=!0,o.allowResume=d.allowResume,e.simulation=o,r.fire(o.startEvent),y?(o.vx0=e.pointerDelta.client.vx,o.vy0=e.pointerDelta.client.vy,o.v0=h,function(t,e){var n=t.target.options[t.prepared.name].inertia,o=n.resistance,i=-Math.log(n.endSpeed/e.v0)/o;e.x0=t.prevEvent.pageX,e.y0=t.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/o,e.modifiedYe=e.ye=(e.vy0-i)/o,e.te=i,e.lambda_v0=o/e.v0,e.one_ve_v0=1-n.endSpeed/e.v0}(e,o),a.extend(f,e.curCoords.page),f.x+=o.xe,f.y+=o.ye,s.resetStatuses(p),m=s.setAll(x),o.modifiedXe+=m.dx,o.modifiedYe+=m.dy,o.i=l.request(e.boundInertiaFrame)):(o.smoothEnd=!0,o.xe=m.dx,o.ye=m.dy,o.sx=o.sy=0,o.i=l.request(e.boundSmoothEndFrame)))}}),r.signals.on("stop-active",function(t){var e=t.interaction,n=e.inertiaStatus;n.active&&(l.cancel(n.i),n.active=!1,e.simulation=null)})},{"./InteractEvent":3,"./Interaction":5,"./modifiers/base":23,"./utils":43,"./utils/raf":49}],21:[function(t,e,n){"use strict";function o(t,e){var n=a.interactables.get(t,e);return n||(n=new l(t,e),n.events.global=d),n}var i=t("./utils/browser"),r=t("./utils/events"),s=t("./utils"),a=t("./scope"),l=t("./Interactable"),c=t("./Interaction"),d={};o.isSet=function(t,e){return-1!==a.interactables.indexOfElement(t,e&&e.context)},o.on=function(t,e,n){if(s.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.is.array(t)){for(var i=0;i<t.length;i++){var c;c=t[i];o.on(c,e,n)}return o}if(s.is.object(t)){for(var u in t)o.on(u,t[u],e);return o}return s.contains(l.eventTypes,t)?d[t]?d[t].push(e):d[t]=[e]:r.add(a.document,t,e,{options:n}),o},o.off=function(t,e,n){if(s.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.is.array(t)){for(var i=0;i<t.length;i++){var c;c=t[i];o.off(c,e,n)}return o}if(s.is.object(t)){for(var u in t)o.off(u,t[u],e);return o}if(s.contains(l.eventTypes,t)){var p=void 0;t in d&&-1!==(p=d[t].indexOf(e))&&d[t].splice(p,1)}else r.remove(a.document,t,e,n);return o},o.debug=function(){return a},o.getPointerAverage=s.pointerAverage,o.getTouchBBox=s.touchBBox,o.getTouchDistance=s.touchDistance,o.getTouchAngle=s.touchAngle,o.getElementRect=s.getElementRect,o.getElementClientRect=s.getElementClientRect,o.matchesSelector=s.matchesSelector,o.closest=s.closest,o.supportsTouch=function(){return i.supportsTouch},o.supportsPointerEvent=function(){return i.supportsPointerEvent},o.stop=function(t){for(var e=a.interactions.length-1;e>=0;e--)a.interactions[e].stop(t);return o},o.pointerMoveTolerance=function(t){return s.is.number(t)?(c.pointerMoveTolerance=t,o):c.pointerMoveTolerance},o.addDocument=a.addDocument,o.removeDocument=a.removeDocument,a.interact=o,e.exports=o},{"./Interactable":4,"./Interaction":5,"./scope":33,"./utils":43,"./utils/browser":36,"./utils/events":39}],22:[function(t,e,n){"use strict";function o(t){var e=t.interaction,n=t.event;e.target&&e.target.checkAndPreventDefault(n)}var i=t("./Interactable"),r=t("./Interaction"),s=t("./scope"),a=t("./utils/is"),l=t("./utils/events"),c=t("./utils/domUtils"),d=c.nodeContains,u=c.matchesSelector;i.prototype.preventDefault=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):a.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},i.prototype.checkAndPreventDefault=function(t){var e=this.options.preventDefault;if("never"!==e)return"always"===e?void t.preventDefault():void(l.supportsOptions&&/^touch(start|move)$/.test(t.type)||/^(mouse|pointer|touch)*(down|start)/i.test(t.type)||a.element(t.target)&&u(t.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||t.preventDefault())};for(var p=["down","move","up","cancel"],f=0;f<p.length;f++){var h=p[f];r.signals.on(h,o)}r.docEvents.dragstart=function(t){for(var e=0;e<s.interactions.length;e++){var n=s.interactions[e];if(n.element&&(n.element===t.target||d(n.element,t.target)))return void n.target.checkAndPreventDefault(t)}}},{"./Interactable":4,"./Interaction":5,"./scope":33,"./utils/domUtils":38,"./utils/events":39,"./utils/is":45}],23:[function(t,e,n){"use strict";function o(t,e,n){return t&&t.enabled&&(e||!t.endOnly)&&(!n||t.endOnly)}var i=t("../InteractEvent"),r=t("../Interaction"),s=t("../utils/extend"),a={names:[],setOffsets:function(t){var e=t.interaction,n=t.pageCoords,o=e.target,i=e.element,r=e.startOffset,s=o.getRect(i);s?(r.left=n.x-s.left,r.top=n.y-s.top,r.right=s.right-n.x,r.bottom=s.bottom-n.y,"width"in s||(s.width=s.right-s.left),"height"in s||(s.height=s.bottom-s.top)):r.left=r.top=r.right=r.bottom=0,t.rect=s,t.interactable=o,t.element=i;for(var l=0;l<a.names.length;l++){var c=a.names[l];t.options=o.options[e.prepared.name][c],t.options&&(e.modifierOffsets[c]=a[c].setOffset(t))}},setAll:function(t){var e=t.interaction,n=t.statuses,i=t.preEnd,r=t.requireEndOnly,l={dx:0,dy:0,changed:!1,locked:!1,shouldMove:!0};t.modifiedCoords=s({},t.pageCoords);for(var c=0;c<a.names.length;c++){var d=a.names[c],u=a[d],p=e.target.options[e.prepared.name][d];o(p,i,r)&&(t.status=t.status=n[d],t.options=p,t.offset=t.interaction.modifierOffsets[d],u.set(t),t.status.locked&&(t.modifiedCoords.x+=t.status.dx,t.modifiedCoords.y+=t.status.dy,l.dx+=t.status.dx,l.dy+=t.status.dy,l.locked=!0))}return l.shouldMove=!t.status||!l.locked||t.status.changed,l},resetStatuses:function(t){for(var e=0;e<a.names.length;e++){var n=a.names[e],o=t[n]||{};o.dx=o.dy=0,o.modifiedX=o.modifiedY=NaN,o.locked=!1,o.changed=!0,t[n]=o}return t},start:function(t,e){var n=t.interaction,o={interaction:n,pageCoords:("action-resume"===e?n.curCoords:n.startCoords).page,startOffset:n.startOffset,statuses:n.modifierStatuses,preEnd:!1,requireEndOnly:!1};a.setOffsets(o),a.resetStatuses(o.statuses),o.pageCoords=s({},n.startCoords.page),n.modifierResult=a.setAll(o)},beforeMove:function(t){var e=t.interaction,n=t.preEnd,o=t.interactingBeforeMove,i=a.setAll({interaction:e,preEnd:n,pageCoords:e.curCoords.page,statuses:e.modifierStatuses,requireEndOnly:!1});!i.shouldMove&&o&&(e._dontFireMove=!0),e.modifierResult=i},end:function(t){for(var e=t.interaction,n=t.event,i=0;i<a.names.length;i++){var r=a.names[i];if(o(e.target.options[e.prepared.name][r],!0,!0)){e.doMove({event:n,preEnd:!0});break}}},setXY:function(t){for(var e=t.iEvent,n=t.interaction,o=s({},t),i=0;i<a.names.length;i++){var r=a.names[i];if(o.options=n.target.options[n.prepared.name][r],o.options){var l=a[r];o.status=n.modifierStatuses[r],e[r]=l.modifyCoords(o)}}}};r.signals.on("new",function(t){t.startOffset={left:0,right:0,top:0,bottom:0},t.modifierOffsets={},t.modifierStatuses=a.resetStatuses({}),t.modifierResult=null}),r.signals.on("action-start",a.start),r.signals.on("action-resume",a.start),r.signals.on("before-action-move",a.beforeMove),r.signals.on("action-end",a.end),i.signals.on("set-xy",a.setXY),e.exports=a},{"../InteractEvent":3,"../Interaction":5,"../utils/extend":40}],24:[function(t,e,n){"use strict";function o(t,e,n){return r.is.function(t)?r.resolveRectLike(t,e.target,e.element,[n.x,n.y,e]):r.resolveRectLike(t,e.target,e.element)}var i=t("./base"),r=t("../utils"),s=t("../defaultOptions"),a={defaults:{enabled:!1,endOnly:!1,restriction:null,elementRect:null},setOffset:function(t){var e=t.rect,n=t.startOffset,o=t.options,i=o&&o.elementRect,r={};return e&&i?(r.left=n.left-e.width*i.left,r.top=n.top-e.height*i.top,r.right=n.right-e.width*(1-i.right),r.bottom=n.bottom-e.height*(1-i.bottom)):r.left=r.top=r.right=r.bottom=0,r},set:function(t){var e=t.modifiedCoords,n=t.interaction,i=t.status,s=t.options;if(!s)return i;var a=i.useStatusXY?{x:i.x,y:i.y}:r.extend({},e),l=o(s.restriction,n,a);if(!l)return i;i.dx=0,i.dy=0,i.locked=!1;var c=l,d=a.x,u=a.y,p=n.modifierOffsets.restrict;"x"in l&&"y"in l?(d=Math.max(Math.min(c.x+c.width-p.right,a.x),c.x+p.left),u=Math.max(Math.min(c.y+c.height-p.bottom,a.y),c.y+p.top)):(d=Math.max(Math.min(c.right-p.right,a.x),c.left+p.left),u=Math.max(Math.min(c.bottom-p.bottom,a.y),c.top+p.top)),i.dx=d-a.x,i.dy=u-a.y,i.changed=i.modifiedX!==d||i.modifiedY!==u,i.locked=!(!i.dx&&!i.dy),i.modifiedX=d,i.modifiedY=u},modifyCoords:function(t){var e=t.page,n=t.client,o=t.status,i=t.phase,r=t.options,s=r&&r.elementRect;if(r&&r.enabled&&("start"!==i||!s||!o.locked)&&o.locked)return e.x+=o.dx,e.y+=o.dy,n.x+=o.dx,n.y+=o.dy,{dx:o.dx,dy:o.dy}},getRestrictionRect:o};i.restrict=a,i.names.push("restrict"),s.perAction.restrict=a.defaults,e.exports=a},{"../defaultOptions":18,"../utils":43,"./base":23}],25:[function(t,e,n){"use strict";var o=t("./base"),i=t("../utils"),r=t("../utils/rect"),s=t("../defaultOptions"),a=t("../actions/resize"),l=t("./restrict").getRestrictionRect,c={top:1/0,left:1/0,bottom:-1/0,right:-1/0},d={top:-1/0,left:-1/0,bottom:1/0,right:1/0},u={defaults:{enabled:!1,endOnly:!1,min:null,max:null,offset:null},setOffset:function(t){var e=t.interaction,n=t.startOffset,o=t.options;if(!o)return i.extend({},n);var r=l(o.offset,e,e.startCoords.page);return r?{top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}:n},set:function(t){var e=t.modifiedCoords,n=t.interaction,o=t.status,s=t.offset,a=t.options,u=n.prepared.linkedEdges||n.prepared.edges;if(n.interacting()&&u){var p=o.useStatusXY?{x:o.x,y:o.y}:i.extend({},e),f=r.xywhToTlbr(l(a.inner,n,p))||c,h=r.xywhToTlbr(l(a.outer,n,p))||d,g=p.x,m=p.y;o.dx=0,o.dy=0,o.locked=!1,u.top?m=Math.min(Math.max(h.top+s.top,p.y),f.top+s.top):u.bottom&&(m=Math.max(Math.min(h.bottom-s.bottom,p.y),f.bottom-s.bottom)),u.left?g=Math.min(Math.max(h.left+s.left,p.x),f.left+s.left):u.right&&(g=Math.max(Math.min(h.right-s.right,p.x),f.right-s.right)),o.dx=g-p.x,o.dy=m-p.y,o.changed=o.modifiedX!==g||o.modifiedY!==m,o.locked=!(!o.dx&&!o.dy),o.modifiedX=g,o.modifiedY=m}},modifyCoords:function(t){var e=t.page,n=t.client,o=t.status,i=t.phase,r=t.options;if(r&&r.enabled&&("start"!==i||!o.locked)&&o.locked)return e.x+=o.dx,e.y+=o.dy,n.x+=o.dx,n.y+=o.dy,{dx:o.dx,dy:o.dy}},noInner:c,noOuter:d,getRestrictionRect:l};o.restrictEdges=u,o.names.push("restrictEdges"),s.perAction.restrictEdges=u.defaults,a.defaults.restrictEdges=u.defaults,e.exports=u},{"../actions/resize":10,"../defaultOptions":18,"../utils":43,"../utils/rect":50,"./base":23,"./restrict":24}],26:[function(t,e,n){"use strict";var o=t("./base"),i=t("./restrictEdges"),r=t("../utils"),s=t("../utils/rect"),a=t("../defaultOptions"),l=t("../actions/resize"),c={width:-1/0,height:-1/0},d={width:1/0,height:1/0},u={defaults:{enabled:!1,endOnly:!1,min:null,max:null},setOffset:function(t){return t.interaction.startOffset},set:function(t){var e=t.interaction,n=t.options,o=e.prepared.linkedEdges||e.prepared.edges;if(e.interacting()&&o){var a=s.xywhToTlbr(e.resizeRects.inverted),l=s.tlbrToXywh(i.getRestrictionRect(n.min,e))||c,u=s.tlbrToXywh(i.getRestrictionRect(n.max,e))||d;t.options={enabled:n.enabled,endOnly:n.endOnly,inner:r.extend({},i.noInner),outer:r.extend({},i.noOuter)},o.top?(t.options.inner.top=a.bottom-l.height,t.options.outer.top=a.bottom-u.height):o.bottom&&(t.options.inner.bottom=a.top+l.height,t.options.outer.bottom=a.top+u.height),o.left?(t.options.inner.left=a.right-l.width,t.options.outer.left=a.right-u.width):o.right&&(t.options.inner.right=a.left+l.width,t.options.outer.right=a.left+u.width),i.set(t)}},modifyCoords:i.modifyCoords};o.restrictSize=u,o.names.push("restrictSize"),a.perAction.restrictSize=u.defaults,l.defaults.restrictSize=u.defaults,e.exports=u},{"../actions/resize":10,"../defaultOptions":18,"../utils":43,"../utils/rect":50,"./base":23,"./restrictEdges":25}],27:[function(t,e,n){"use strict";var o=t("./base"),i=t("../interact"),r=t("../utils"),s=t("../defaultOptions"),a={defaults:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},setOffset:function(t){var e=t.interaction,n=t.interactable,o=t.element,i=t.rect,s=t.startOffset,a=t.options,l=[],c=r.rectToXY(r.resolveRectLike(a.origin))||r.getOriginXY(n,o,e.prepared.name),d=void 0;if("startCoords"===(a=a||n.options[e.prepared.name].snap||{}).offset)d={x:e.startCoords.page.x-c.x,y:e.startCoords.page.y-c.y};else{var u=r.resolveRectLike(a.offset,n,o,[e]);d=r.rectToXY(u)||{x:0,y:0}}if(i&&a.relativePoints&&a.relativePoints.length)for(var p=0;p<a.relativePoints.length;p++){var f=a.relativePoints[p],h=f.x,g=f.y;l.push({x:s.left-i.width*h+d.x,y:s.top-i.height*g+d.y})}else l.push(d);return l},set:function(t){var e=t.interaction,n=t.modifiedCoords,o=t.status,i=t.options,s=t.offset,a=[],l=void 0,c=void 0,d=void 0;if(o.useStatusXY)c={x:o.x,y:o.y};else{var u=r.getOriginXY(e.target,e.element,e.prepared.name);(c=r.extend({},n)).x-=u.x,c.y-=u.y}o.realX=c.x,o.realY=c.y;for(var p=i.targets?i.targets.length:0,f=0;f<s.length;f++)for(var h=s[f],g=h.x,m=h.y,v=c.x-g,y=c.y-m,x=0;x<i.targets.length;x++){var b=i.targets[x];(l=r.is.function(b)?b(v,y,e):b)&&a.push({x:r.is.number(l.x)?l.x+g:v,y:r.is.number(l.y)?l.y+m:y,range:r.is.number(l.range)?l.range:i.range})}var w={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(d=0,p=a.length;d<p;d++){var M=(l=a[d]).range,E=l.x-c.x,T=l.y-c.y,C=r.hypot(E,T),S=C<=M;M===1/0&&w.inRange&&w.range!==1/0&&(S=!1),w.target&&!(S?w.inRange&&M!==1/0?C/M<w.distance/w.range:M===1/0&&w.range!==1/0||C<w.distance:!w.inRange&&C<w.distance)||(w.target=l,w.distance=C,w.range=M,w.inRange=S,w.dx=E,w.dy=T,o.range=M)}var I=void 0;w.target?(I=o.modifiedX!==w.target.x||o.modifiedY!==w.target.y,o.modifiedX=w.target.x,o.modifiedY=w.target.y):(I=!0,o.modifiedX=NaN,o.modifiedY=NaN),o.dx=w.dx,o.dy=w.dy,o.changed=I||w.inRange&&!o.locked,o.locked=w.inRange},modifyCoords:function(t){var e=t.page,n=t.client,o=t.status,i=t.phase,r=t.options,s=r&&r.relativePoints;if(r&&r.enabled&&("start"!==i||!s||!s.length))return o.locked&&(e.x+=o.dx,e.y+=o.dy,n.x+=o.dx,n.y+=o.dy),{range:o.range,locked:o.locked,x:o.modifiedX,y:o.modifiedY,realX:o.realX,realY:o.realY,dx:o.dx,dy:o.dy}}};i.createSnapGrid=function(t){return function(e,n){var o=t.limits||{left:-1/0,right:1/0,top:-1/0,bottom:1/0},i=0,s=0;r.is.object(t.offset)&&(i=t.offset.x,s=t.offset.y);var a=Math.round((e-i)/t.x),l=Math.round((n-s)/t.y);return{x:Math.max(o.left,Math.min(o.right,a*t.x+i)),y:Math.max(o.top,Math.min(o.bottom,l*t.y+s)),range:t.range}}},o.snap=a,o.names.push("snap"),s.perAction.snap=a.defaults,e.exports=a},{"../defaultOptions":18,"../interact":21,"../utils":43,"./base":23}],28:[function(t,e,n){"use strict";var o=t("./base"),i=t("./snap"),r=t("../defaultOptions"),s=t("../actions/resize"),a=t("../utils/"),l={defaults:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null},setOffset:function(t){var e=t.interaction,n=t.options,o=e.prepared.edges;if(o){t.options={relativePoints:[{x:o.left?0:1,y:o.top?0:1}],origin:{x:0,y:0},offset:"self",range:n.range};var r=i.setOffset(t);return t.options=n,r}},set:function(t){var e=t.interaction,n=t.options,o=t.offset,r=t.modifiedCoords,s=a.extend({},r),l=s.x-o[0].x,c=s.y-o[0].y;t.options=a.extend({},n),t.options.targets=[];for(var d=0;d<n.targets.length;d++){var u=n.targets[d],p=void 0;(p=a.is.function(u)?u(l,c,e):u)&&("width"in p&&"height"in p&&(p.x=p.width,p.y=p.height),t.options.targets.push(p))}i.set(t)},modifyCoords:function(t){var e=t.options;t.options=a.extend({},e),t.options.enabled=e.enabled,t.options.relativePoints=[null],i.modifyCoords(t)}};o.snapSize=l,o.names.push("snapSize"),r.perAction.snapSize=l.defaults,s.defaults.snapSize=l.defaults,e.exports=l},{"../actions/resize":10,"../defaultOptions":18,"../utils/":43,"./base":23,"./snap":27}],29:[function(t,e,n){"use strict";var o=t("../utils/pointerUtils");e.exports=function(){function t(e,n,i,r,s){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o.pointerExtend(this,i),i!==n&&o.pointerExtend(this,n),this.interaction=s,this.timeStamp=(new Date).getTime(),this.originalEvent=i,this.type=e,this.pointerId=o.getPointerId(n),this.pointerType=o.getPointerType(n),this.target=r,this.currentTarget=null,"tap"===e){var a=s.getPointerIndex(n);this.dt=this.timeStamp-s.downTimes[a];var l=this.timeStamp-s.tapTime;this.double=!!(s.prevTap&&"doubletap"!==s.prevTap.type&&s.prevTap.target===this.target&&l<500)}else"doubletap"===e&&(this.dt=n.timeStamp-s.tapTime)}return t.prototype.subtractOrigin=function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this},t.prototype.addOrigin=function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this},t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t}()},{"../utils/pointerUtils":48}],30:[function(t,e,n){"use strict";function o(t){for(var e=t.interaction,n=t.pointer,s=t.event,l=t.eventTarget,d=t.type,u=void 0===d?t.pointerEvent.type:d,p=t.targets,f=void 0===p?i(t):p,h=t.pointerEvent,g=void 0===h?new r(u,n,s,l,e):h,m={interaction:e,pointer:n,event:s,eventTarget:l,targets:f,type:u,pointerEvent:g},v=0;v<f.length;v++){var y=f[v];for(var x in y.props||{})g[x]=y.props[x];var b=a.getOriginXY(y.eventable,y.element);if(g.subtractOrigin(b),g.eventable=y.eventable,g.currentTarget=y.element,y.eventable.fire(g),g.addOrigin(b),g.immediatePropagationStopped||g.propagationStopped&&v+1<f.length&&f[v+1].element!==g.currentTarget)break}if(c.fire("fired",m),"tap"===u){var w=g.double?o({interaction:e,pointer:n,event:s,eventTarget:l,type:"doubletap"}):g;e.prevTap=w,e.tapTime=w.timeStamp}return g}function i(t){var e=t.interaction,n=t.pointer,o=t.event,i=t.eventTarget,r=t.type,s=e.getPointerIndex(n);if("tap"===r&&(e.pointerWasMoved||!e.downTargets[s]||e.downTargets[s]!==i))return[];for(var l=a.getPath(i),d={interaction:e,pointer:n,event:o,eventTarget:i,type:r,path:l,targets:[],element:null},u=0;u<l.length;u++){var p=l[u];d.element=p,c.fire("collect-targets",d)}return"hold"===r&&(d.targets=d.targets.filter(function(t){return t.eventable.options.holdDuration===e.holdTimers[s].duration})),d.targets}var r=t("./PointerEvent"),s=t("../Interaction"),a=t("../utils"),l=t("../defaultOptions"),c=t("../utils/Signals").new(),d=["down","up","cancel"],u=["down","up","cancel"],p={PointerEvent:r,fire:o,collectEventTargets:i,signals:c,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:["down","move","up","cancel","tap","doubletap","hold"]};s.signals.on("update-pointer-down",function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers[n]={duration:1/0,timeout:null}}),s.signals.on("remove-pointer",function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers.splice(n,1)}),s.signals.on("move",function(t){var e=t.interaction,n=t.pointer,i=t.event,r=t.eventTarget,s=t.duplicateMove,a=e.getPointerIndex(n);s||e.pointerIsDown&&!e.pointerWasMoved||(e.pointerIsDown&&clearTimeout(e.holdTimers[a].timeout),o({interaction:e,pointer:n,event:i,eventTarget:r,type:"move"}))}),s.signals.on("down",function(t){for(var e=t.interaction,n=t.pointer,i=t.event,r=t.eventTarget,s=t.pointerIndex,l=e.holdTimers[s],d=a.getPath(r),u={interaction:e,pointer:n,event:i,eventTarget:r,type:"hold",targets:[],path:d,element:null},p=0;p<d.length;p++){var f=d[p];u.element=f,c.fire("collect-targets",u)}if(u.targets.length){for(var h=1/0,g=0;g<u.targets.length;g++){var m=u.targets[g].eventable.options.holdDuration;m<h&&(h=m)}l.duration=h,l.timeout=setTimeout(function(){o({interaction:e,eventTarget:r,pointer:n,event:i,type:"hold"})},h)}}),s.signals.on("up",function(t){var e=t.interaction,n=t.pointer,i=t.event,r=t.eventTarget;e.pointerWasMoved||o({interaction:e,eventTarget:r,pointer:n,event:i,type:"tap"})});for(var f=["up","cancel"],h=0;h<f.length;h++){var g=f[h];s.signals.on(g,function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers[n]&&clearTimeout(e.holdTimers[n].timeout)})}for(var m=0;m<d.length;m++)s.signals.on(d[m],function(t){return function(e){var n=e.interaction,i=e.pointer,r=e.event;o({interaction:n,eventTarget:e.eventTarget,pointer:i,event:r,type:t})}}(u[m]));s.signals.on("new",function(t){t.prevTap=null,t.tapTime=0,t.holdTimers=[]}),l.pointerEvents=p.defaults,e.exports=p},{"../Interaction":5,"../defaultOptions":18,"../utils":43,"../utils/Signals":34,"./PointerEvent":29}],31:[function(t,e,n){"use strict";function o(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)}function i(t){var e=t.interaction,n=t.pointerEvent,o=t.eventTarget,i=t.targets;if("hold"===n.type&&i.length){var r=i[0].eventable.options.holdRepeatInterval;r<=0||(e.holdIntervalHandle=setTimeout(function(){s.fire({interaction:e,eventTarget:o,type:"hold",pointer:n,event:n})},r))}}function r(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var s=t("./base"),a=t("../Interaction");s.signals.on("new",o),s.signals.on("fired",i);for(var l=["move","up","cancel","endall"],c=0;c<l.length;c++){var d=l[c];a.signals.on(d,r)}s.defaults.holdRepeatInterval=0,s.types.push("holdrepeat"),e.exports={onNew:o,onFired:i,endHoldRepeat:r}},{"../Interaction":5,"./base":30}],32:[function(t,e,n){"use strict";var o=t("./base"),i=t("../Interactable"),r=t("../utils/is"),s=t("../scope"),a=t("../utils/extend"),l=t("../utils/arr").merge;o.signals.on("collect-targets",function(t){var e=t.targets,n=t.element,o=t.type,i=t.eventTarget;s.interactables.forEachMatch(n,function(t){var s=t.events,a=s.options;s[o]&&r.element(n)&&t.testIgnoreAllow(a,n,i)&&e.push({element:n,eventable:s,props:{interactable:t}})})}),i.signals.on("new",function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}}),i.signals.on("set",function(t){var e=t.interactable,n=t.options;a(e.events.options,o.defaults),a(e.events.options,n)}),l(i.eventTypes,o.types),i.prototype.pointerEvents=function(t){return a(this.events.options,t),this};var c=i.prototype._backCompatOption;i.prototype._backCompatOption=function(t,e){var n=c.call(this,t,e);return n===this&&(this.events.options[t]=e),n},i.settingsMethods.push("pointerEvents")},{"../Interactable":4,"../scope":33,"../utils/arr":35,"../utils/extend":40,"../utils/is":45,"./base":30}],33:[function(t,e,n){"use strict";var o=t("./utils"),i=t("./utils/events"),r=t("./utils/Signals").new(),s=t("./utils/window").getWindow,a={signals:r,events:i,utils:o,document:t("./utils/domObjects").document,documents:[],addDocument:function(t,e){if(o.contains(a.documents,t))return!1;e=e||s(t),a.documents.push(t),i.documents.push(t),t!==a.document&&i.add(e,"unload",a.onWindowUnload),r.fire("add-document",{doc:t,win:e})},removeDocument:function(t,e){var n=a.documents.indexOf(t);e=e||s(t),i.remove(e,"unload",a.onWindowUnload),a.documents.splice(n,1),i.documents.splice(n,1),r.fire("remove-document",{win:e,doc:t})},onWindowUnload:function(){a.removeDocument(this.document,this)}};e.exports=a},{"./utils":43,"./utils/Signals":34,"./utils/domObjects":37,"./utils/events":39,"./utils/window":51}],34:[function(t,e,n){"use strict";var o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.off=function(t,e){if(this.listeners[t]){var n=this.listeners[t].indexOf(e);-1!==n&&this.listeners[t].splice(n,1)}},t.prototype.fire=function(t,e){var n=this.listeners[t];if(n)for(var o=0;o<n.length;o++){if(!1===(0,n[o])(e,t))return}},t}();o.new=function(){return new o},e.exports=o},{}],35:[function(t,e,n){"use strict";e.exports={contains:function(t,e){return-1!==t.indexOf(e)},merge:function(t,e){for(var n=0;n<e.length;n++){var o=e[n];t.push(o)}return t}}},{}],36:[function(t,e,n){"use strict";var o=t("./window").window,i=t("./is"),r=t("./domObjects"),s=r.Element,a=o.navigator,l={supportsTouch:!!("ontouchstart"in o||i.function(o.DocumentTouch)&&r.document instanceof o.DocumentTouch),supportsPointerEvent:!!r.PointerEvent,isIOS7:/iP(hone|od|ad)/.test(a.platform)&&/OS 7[^\d]/.test(a.appVersion),isIe9:/MSIE 9/.test(a.userAgent),prefixedMatchesSelector:"matches"in s.prototype?"matches":"webkitMatchesSelector"in s.prototype?"webkitMatchesSelector":"mozMatchesSelector"in s.prototype?"mozMatchesSelector":"oMatchesSelector"in s.prototype?"oMatchesSelector":"msMatchesSelector",pEventTypes:r.PointerEvent?r.PointerEvent===o.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,wheelEvent:"onmousewheel"in r.document?"mousewheel":"wheel"};l.isOperaMobile="Opera"===a.appName&&l.supportsTouch&&a.userAgent.match("Presto"),e.exports=l},{"./domObjects":37,"./is":45,"./window":51}],37:[function(t,e,n){"use strict";function o(){}var i={},r=t("./window").window;i.document=r.document,i.DocumentFragment=r.DocumentFragment||o,i.SVGElement=r.SVGElement||o,i.SVGSVGElement=r.SVGSVGElement||o,i.SVGElementInstance=r.SVGElementInstance||o,i.Element=r.Element||o,i.HTMLElement=r.HTMLElement||i.Element,i.Event=r.Event,i.Touch=r.Touch||o,i.PointerEvent=r.PointerEvent||r.MSPointerEvent,e.exports=i},{"./window":51}],38:[function(t,e,n){"use strict";var o=t("./window"),i=t("./browser"),r=t("./is"),s=t("./domObjects"),a={nodeContains:function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},closest:function(t,e){for(;r.element(t);){if(a.matchesSelector(t,e))return t;t=a.parentNode(t)}return null},parentNode:function(t){var e=t.parentNode;if(r.docFrag(e)){for(;(e=e.host)&&r.docFrag(e););return e}return e},matchesSelector:function(t,e){return o.window!==o.realWindow&&(e=e.replace(/\/deep\//g," ")),t[i.prefixedMatchesSelector](e)},indexOfDeepestElement:function(t){var e=[],n=[],o=void 0,i=t[0],r=i?0:-1,a=void 0,l=void 0,c=void 0,d=void 0;for(c=1;c<t.length;c++)if((o=t[c])&&o!==i)if(i){if(o.parentNode!==o.ownerDocument)if(i.parentNode!==o.ownerDocument){if(!e.length)for(a=i;a.parentNode&&a.parentNode!==a.ownerDocument;)e.unshift(a),a=a.parentNode;if(i instanceof s.HTMLElement&&o instanceof s.SVGElement&&!(o instanceof s.SVGSVGElement)){if(o===i.parentNode)continue;a=o.ownerSVGElement}else a=o;for(n=[];a.parentNode!==a.ownerDocument;)n.unshift(a),a=a.parentNode;for(d=0;n[d]&&n[d]===e[d];)d++;var u=[n[d-1],n[d],e[d]];for(l=u[0].lastChild;l;){if(l===u[1]){i=o,r=c,e=[];break}if(l===u[2])break;l=l.previousSibling}}else i=o,r=c}else i=o,r=c;return r},matchesUpTo:function(t,e,n){for(;r.element(t);){if(a.matchesSelector(t,e))return!0;if((t=a.parentNode(t))===n)return a.matchesSelector(t,e)}return!1},getActualElement:function(t){return t instanceof s.SVGElementInstance?t.correspondingUseElement:t},getScrollXY:function(t){return t=t||o.window,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}},getElementClientRect:function(t){var e=t instanceof s.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}},getElementRect:function(t){var e=a.getElementClientRect(t);if(!i.isIOS7&&e){var n=a.getScrollXY(o.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},getPath:function(t){for(var e=[];t;)e.push(t),t=a.parentNode(t);return e},trySelector:function(t){return!!r.string(t)&&(s.document.querySelector(t),!0)}};e.exports=a},{"./browser":36,"./domObjects":37,"./is":45,"./window":51}],39:[function(t,e,n){"use strict";function o(t,e,n,o){var i=l(o),r=g.indexOf(t),s=m[r];s||(s={events:{},typeCount:0},r=g.push(t)-1,m.push(s)),s.events[e]||(s.events[e]=[],s.typeCount++),h(s.events[e],n)||(t.addEventListener(e,n,x?i:!!i.capture),s.events[e].push(n))}function i(t,e,n,o){var r=l(o),s=g.indexOf(t),a=m[s];if(a&&a.events)if("all"!==e){if(a.events[e]){var c=a.events[e].length;if("all"===n){for(var d=0;d<c;d++)i(t,e,a.events[e][d],r);return}for(var u=0;u<c;u++)if(a.events[e][u]===n){t.removeEventListener("on"+e,n,x?r:!!r.capture),a.events[e].splice(u,1);break}a.events[e]&&0===a.events[e].length&&(a.events[e]=null,a.typeCount--)}a.typeCount||(m.splice(s,1),g.splice(s,1))}else for(e in a.events)a.events.hasOwnProperty(e)&&i(t,e,"all")}function r(t,e){var n=l(e),o={},i=v[t.type],r=u.getEventTargets(t)[0],s=r;for(p(o,t),o.originalEvent=t,o.preventDefault=a;c.element(s);){for(var f=0;f<i.selectors.length;f++){var h=i.selectors[f],g=i.contexts[f];if(d.matchesSelector(s,h)&&d.nodeContains(g,r)&&d.nodeContains(g,s)){var m=i.listeners[f];o.currentTarget=s;for(var y=0;y<m.length;y++){var x=m[y],b=x[0],w=x[1],M=x[2];w===!!n.capture&&M===n.passive&&b(o)}}}s=d.parentNode(s)}}function s(t){return r.call(this,t,!0)}function a(){this.originalEvent.preventDefault()}function l(t){return c.object(t)?t:{capture:t}}var c=t("./is"),d=t("./domUtils"),u=t("./pointerUtils"),p=t("./pointerExtend"),f=t("./window").window,h=t("./arr").contains,g=[],m=[],v={},y=[],x=function(){var t=!1;return f.document.createElement("div").addEventListener("test",null,{get capture(){t=!0}}),t}();e.exports={add:o,remove:i,addDelegate:function(t,e,n,i,a){var c=l(a);if(!v[n]){v[n]={selectors:[],contexts:[],listeners:[]};for(var d=0;d<y.length;d++){var u=y[d];o(u,n,r),o(u,n,s,!0)}}var p=v[n],f=void 0;for(f=p.selectors.length-1;f>=0&&(p.selectors[f]!==t||p.contexts[f]!==e);f--);-1===f&&(f=p.selectors.length,p.selectors.push(t),p.contexts.push(e),p.listeners.push([])),p.listeners[f].push([i,!!c.capture,c.passive])},removeDelegate:function(t,e,n,o,a){var c=l(a),d=v[n],u=!1,p=void 0;if(d)for(p=d.selectors.length-1;p>=0;p--)if(d.selectors[p]===t&&d.contexts[p]===e){for(var f=d.listeners[p],h=f.length-1;h>=0;h--){var g=f[h],m=g[0],y=g[1],x=g[2];if(m===o&&y===!!c.capture&&x===c.passive){f.splice(h,1),f.length||(d.selectors.splice(p,1),d.contexts.splice(p,1),d.listeners.splice(p,1),i(e,n,r),i(e,n,s,!0),d.selectors.length||(v[n]=null)),u=!0;break}}if(u)break}},delegateListener:r,delegateUseCapture:s,delegatedEvents:v,documents:y,supportsOptions:x,_elements:g,_targets:m}},{"./arr":35,"./domUtils":38,"./is":45,"./pointerExtend":47,"./pointerUtils":48,"./window":51}],40:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n in e)t[n]=e[n];return t}},{}],41:[function(t,e,n){"use strict";var o=t("./rect"),i=o.resolveRectLike,r=o.rectToXY;e.exports=function(t,e,n){var o=t.options[n],s=o&&o.origin||t.options.origin,a=i(s,t,e,[t&&e]);return r(a)||{x:0,y:0}}},{"./rect":50}],42:[function(t,e,n){"use strict";e.exports=function(t,e){return Math.sqrt(t*t+e*e)}},{}],43:[function(t,e,n){"use strict";var o=t("./extend"),i=t("./window"),r={warnOnce:function(t,e){var n=!1;return function(){return n||(i.window.console.warn(e),n=!0),t.apply(this,arguments)}},_getQBezierValue:function(t,e,n,o){var i=1-t;return i*i*e+2*i*t*n+t*t*o},getQuadraticCurvePoint:function(t,e,n,o,i,s,a){return{x:r._getQBezierValue(a,t,n,i),y:r._getQBezierValue(a,e,o,s)}},easeOutQuad:function(t,e,n,o){return t/=o,-n*t*(t-2)+e},copyAction:function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},is:t("./is"),extend:o,hypot:t("./hypot"),getOriginXY:t("./getOriginXY")};o(r,t("./arr")),o(r,t("./domUtils")),o(r,t("./pointerUtils")),o(r,t("./rect")),e.exports=r},{"./arr":35,"./domUtils":38,"./extend":40,"./getOriginXY":41,"./hypot":42,"./is":45,"./pointerUtils":48,"./rect":50,"./window":51}],44:[function(t,e,n){"use strict";var o=t("../scope"),i=t("./index"),r={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t,e,n){for(var o=i.getPointerType(t),s={pointer:t,pointerId:i.getPointerId(t),pointerType:o,eventType:e,eventTarget:n},a=0;a<r.methodOrder.length;a++){var l;l=r.methodOrder[a];var c=r[l](s);if(c)return c}},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget;if(!/down|start/i.test(n))return null;for(var s=0;s<o.interactions.length;s++){var a=o.interactions[s],l=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===e)for(;l;){if(l===a.element)return a;l=i.parentNode(l)}}return null},mouseOrPen:function(t){var e=t.pointerId,n=t.pointerType,r=t.eventType;if("mouse"!==n&&"pen"!==n)return null;for(var s=void 0,a=0;a<o.interactions.length;a++){var l=o.interactions[a];if(l.pointerType===n){if(l.simulation&&!i.contains(l.pointerIds,e))continue;if(l.interacting())return l;s||(s=l)}}if(s)return s;for(var c=0;c<o.interactions.length;c++){var d=o.interactions[c];if(!(d.pointerType!==n||/down/i.test(r)&&d.simulation))return d}return null},hasPointer:function(t){for(var e=t.pointerId,n=0;n<o.interactions.length;n++){var r=o.interactions[n];if(i.contains(r.pointerIds,e))return r}},idle:function(t){for(var e=t.pointerType,n=0;n<o.interactions.length;n++){var i=o.interactions[n];if(1===i.pointerIds.length){var r=i.target;if(r&&!r.options.gesture.enabled)continue}else if(i.pointerIds.length>=2)continue;if(!i.interacting()&&e===i.pointerType)return i}return null}};e.exports=r},{"../scope":33,"./index":43}],45:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)},r=t("./window"),s=t("./isWindow"),a={array:function(){},window:function(t){return t===r.window||s(t)},docFrag:function(t){return a.object(t)&&11===t.nodeType},object:function(t){return!!t&&"object"===(void 0===t?"undefined":i(t))},function:function(t){return"function"==typeof t},number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==(void 0===t?"undefined":i(t)))return!1;var e=r.getWindow(t)||r.window;return/object|function/.test(i(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}};a.array=function(t){return a.object(t)&&void 0!==t.length&&a.function(t.splice)},e.exports=a},{"./isWindow":46,"./window":51}],46:[function(t,e,n){"use strict";e.exports=function(t){return!(!t||!t.Window)&&t instanceof t.Window}},{}],47:[function(t,e,n){"use strict";function o(t,n){for(var o in n){var i=e.exports.prefixedPropREs,r=!1;for(var s in i)if(0===o.indexOf(s)&&i[s].test(o)){r=!0;break}r||"function"==typeof n[o]||(t[o]=n[o])}return t}o.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/},e.exports=o},{}],48:[function(t,e,n){"use strict";var o=t("./hypot"),i=t("./browser"),r=t("./domObjects"),s=t("./domUtils"),a=t("./domObjects"),l=t("./is"),c={copyCoords:function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},setCoordDeltas:function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp;var i=Math.max(t.timeStamp/1e3,.001);t.page.speed=o(t.page.x,t.page.y)/i,t.page.vx=t.page.x/i,t.page.vy=t.page.y/i,t.client.speed=o(t.client.x,t.page.y)/i,t.client.vx=t.client.x/i,t.client.vy=t.client.y/i},isNativePointer:function(t){return t instanceof r.Event||t instanceof r.Touch},getXY:function(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n},getPageXY:function(t,e){return e=e||{},i.isOperaMobile&&c.isNativePointer(t)?(c.getXY("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):c.getXY("page",t,e),e},getClientXY:function(t,e){return e=e||{},i.isOperaMobile&&c.isNativePointer(t)?c.getXY("screen",t,e):c.getXY("client",t,e),e},getPointerId:function(t){return l.number(t.pointerId)?t.pointerId:t.identifier},setCoords:function(t,e,n){var o=e.length>1?c.pointerAverage(e):e[0],i={};c.getPageXY(o,i),t.page.x=i.x,t.page.y=i.y,c.getClientXY(o,i),t.client.x=i.x,t.client.y=i.y,t.timeStamp=l.number(n)?n:(new Date).getTime()},pointerExtend:t("./pointerExtend"),getTouchPair:function(t){var e=[];return l.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e},pointerAverage:function(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var o=t[n];for(var i in e)e[i]+=o[i]}for(var r in e)e[r]/=t.length;return e},touchBBox:function(t){if(t.length||t.touches&&t.touches.length>1){var e=c.getTouchPair(t),n=Math.min(e[0].pageX,e[1].pageX),o=Math.min(e[0].pageY,e[1].pageY);return{x:n,y:o,left:n,top:o,width:Math.max(e[0].pageX,e[1].pageX)-n,height:Math.max(e[0].pageY,e[1].pageY)-o}}},touchDistance:function(t,e){var n=e+"X",i=e+"Y",r=c.getTouchPair(t),s=r[0][n]-r[1][n],a=r[0][i]-r[1][i];return o(s,a)},touchAngle:function(t,e,n){var o=n+"X",i=n+"Y",r=c.getTouchPair(t),s=r[1][o]-r[0][o],a=r[1][i]-r[0][i];return 180*Math.atan2(a,s)/Math.PI},getPointerType:function(t){return l.string(t.pointerType)?t.pointerType:l.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof a.Touch?"touch":"mouse"},getEventTargets:function(t){var e=l.function(t.composedPath)?t.composedPath():t.path;return[s.getActualElement(e?e[0]:t.target),s.getActualElement(t.currentTarget)]}};e.exports=c},{"./browser":36,"./domObjects":37,"./domUtils":38,"./hypot":42,"./is":45,"./pointerExtend":47}],49:[function(t,e,n){"use strict";for(var o=t("./window").window,i=["ms","moz","webkit","o"],r=0,s=void 0,a=void 0,l=0;l<i.length&&!o.requestAnimationFrame;l++)s=o[i[l]+"RequestAnimationFrame"],a=o[i[l]+"CancelAnimationFrame"]||o[i[l]+"CancelRequestAnimationFrame"];s||(s=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),o=setTimeout(function(){t(e+n)},n);return r=e+n,o}),a||(a=function(t){clearTimeout(t)}),e.exports={request:s,cancel:a}},{"./window":51}],50:[function(t,e,n){"use strict";var o=t("./extend"),i=t("./is"),r=t("./domUtils"),s=r.closest,a=r.parentNode,l=r.getElementRect,c={getStringOptionResult:function(t,e,n){return i.string(t)?t="parent"===t?a(n):"self"===t?e.getRect(n):s(n,t):null},resolveRectLike:function(t,e,n,o){return t=c.getStringOptionResult(t,e,n)||t,i.function(t)&&(t=t.apply(null,o)),i.element(t)&&(t=l(t)),t},rectToXY:function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},xywhToTlbr:function(t){return!t||"left"in t&&"top"in t||(t=o({},t),t.left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},tlbrToXywh:function(t){return!t||"x"in t&&"y"in t||(t=o({},t),t.x=t.left||0,t.top=t.top||0,t.width=t.width||t.right-t.x,t.height=t.height||t.bottom-t.y),t}};e.exports=c},{"./domUtils":38,"./extend":40,"./is":45}],51:[function(t,e,n){"use strict";function o(t){i.realWindow=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),i.window=t}var i=e.exports,r=t("./isWindow");"undefined"==typeof window?(i.window=void 0,i.realWindow=void 0):o(window),i.getWindow=function(t){if(r(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i.window},i.init=o},{"./isWindow":46}]},{},[1])(1)})},function(t,e){},function(t,e){},function(t,e){}]);